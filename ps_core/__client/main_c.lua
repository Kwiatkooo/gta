gamever = "PlayDM v0.5.2"

spawn = {}
spawn.names = {
    "- Kasyno Four Dragons",
	"- Lotnisko",
	"- Parking",
	"- Piracki Statek",
	"- Posterunek Policji",
	"- Rock Hotel",
	"- Baza Wojskowa",
	"- Dworzec",
	"- The Visage",
	"- Emerald Isle",
	"- Clowns Pocket",
	"- Chiński Parking",
	"- Stare Lotnisko",
	"- Molo",
	"- Basen",
}
spawn.points = {
    {
	    camera = {2076.280517578125,969.53167724609375,37.864288330078125,1997.1920166015625,1026.97216796875,16.755256652832031},
		pos = {
		    {2023.9892578125,1014.6396484375,10.8203125,267.49645996094},
			{2022.884765625,1001.00390625,10.8203125,267.49645996094},
			{2023.5107421875,1004.6572265625,10.8203125,269.37515258789},
			{2023.6767578125,1009.267578125,10.8203125,268.74890136719},
		},
	},
	{
	    camera = {1756.5313720703125,1394.674072265625,33.990016937255859,1675.4639892578125,1447.1044921875,7.9299535751342773},
		pos = {
		    {1690.6,1448.5,11,270.003},
			{1690.6,1448.5,11,270.003},
			{1690.6,1448.5,11,270.003},
			{1690.6,1448.5,11,270.003},
		},
	},
	{
	    camera = {2392.1147460938,1329.3470458984,60.289699554443,2391.5627441406,1330.1157226563,59.966278076172},
		pos = {
		    {2273.5,1388.6,42.9,0.003},
			{2273.5,1388.6,42.9,0.003},
			{2273.5,1388.6,42.9,0.003},
			{2273.5,1388.6,42.9,0.003},
		},
	},
	{
	    camera = {2073.091796875,1514.5155029296875,45.134330749511719,1987.664306640625,1549.86328125,7.0203104019165039},
		pos = {
		    {2025.4,1545,11,269.003},
			{2025.4,1545,11,269.003},
			{2025.4,1545,11,269.003},
			{2025.4,1545,11,269.003},
		},
	},
	{
	    camera = {2363.7243652344,2368.0227050781,66.660301208496,2363.2214355469,2368.7807617188,66.244895935059},
		pos = {
		    {2290.1001,2451.3999,10.9,91.251},
			{2290.1001,2451.3999,10.9,91.251},
			{2290.1001,2451.3999,10.9,91.251},
			{2290.1001,2451.3999,10.9,91.251},
		},
	},
	{
	    camera = {2653.073486328125,2283.99853515625,31.393444061279297,2582.386962890625,2353.158203125,16.548734664916992},
		pos = {
		    {2629.8,2341.1001,10.8,184.503},
			{2629.8,2341.1001,10.8,184.503},
			{2629.8,2341.1001,10.8,184.503},
			{2629.8,2341.1001,10.8,184.503},
		},
	},
	{
	    camera = {256.0045166015625,2052.511962890625,36.764225006103516,322.47097778320312,1980.69921875,16.145172119140625},
		pos = {
		    {319.89999,2031.7,17.7,88.003},
			{269.7275390625,1933.2001953125,17.640625,88.003},
			{377.826171875,1906.9052734375,17.640625,88.003},
			{235.6337890625,1988.8876953125,17.640625,88.003},
		},
	},
	{
	    camera = {2763.8955078125,1333.4456787109375,37.512836456298828,2843.96435546875,1280.7568359375,9.0018281936645508},
		pos = {
		    {2845.8,1290.7,11.5,90.003},
			{2845.8,1290.7,11.5,90.003},
			{2845.8,1290.7,11.5,90.003},
			{2845.8,1290.7,11.5,90.003},
		},
	},
	{
	    camera = {2153.40673828125,1914.2406005859375,63.135330200195313,2069.183349609375,1914.57421875,9.2253208160400391},
		pos = {
		    {2027.8,1915.5,12.3,270.003},
			{2027.8,1915.5,12.3,270.003},
			{2027.8,1915.5,12.3,270.003},
			{2027.8,1915.5,12.3,270.003},
		},
	},
	{
	    camera = {2080.5283203125,2318.6223144531,26.46430015564,2081.2272949219,2319.2841796875,26.193227767944},
		pos = {
		    {2133.2412109375,2372.9814453125,10.8203125,179.75280761719},
			{2121.0849609375,2374.63671875,10.8203125,183.19706726074},
			{2122.2646484375,2365.603515625,10.8203125,180.69213867188},
			{2133.64453125,2365.9052734375,10.8203125,178.18725585938},
		},
	},
	{
	    camera = {2113.392578125,1828.0209960938,37.028099060059,2114.3774414063,1828.0822753906,36.866588592529},
		pos = {
		    {2217.6416015625,1848.5029296875,10.8203125,99.205322265625},
			{2217.30859375,1826.6376953125,10.8203125,73.507904052734},
			{2215.8662109375,1816.640625,10.8203125,64.108947753906},
			{2221.509765625,1858.6396484375,10.8203125,94.167999267578},
		},
	},
	{
	    camera = {2497.9855957031,1910.4256591797,60.063701629639,2498.6452636719,1909.7878417969,59.666000366211},
		pos = {
		    {2623.056640625,1805.7900390625,10.8203125,85.268951416016},
			{2619.3720703125,1824.4775390625,10.8203125,91.536743164063},
			{2623.279296875,1840.3076171875,10.8203125,88.718688964844},
			{2630.33203125,1853.1669921875,10.8203125,99.3701171875},
		},
	},
	{
	    camera = {435.0378112793,2485.3298339844,62.744998931885,434.22091674805,2485.8410644531,62.47779083252},
		pos = {
		    {389.7734375,2533.4169921875,16.5390625,170.86474609375},
			{372.767578125,2534.716796875,16.62858581543,187.47082519531},
			{404.041015625,2533.0654296875,16.545783996582,184.65278625488},
			{428.373046875,2532.9072265625,16.551136016846,172.74890136719},
		},
	},
	{
	    camera = {2431.1997070313,495.45910644531,41.245998382568,2430.3620605469,495.86373901367,40.879253387451},
		pos = {
		    {2389.9990234375,558.0244140625,7.7802124023438,89.498748779297},
			{2392.146484375,566.32421875,7.7802124023438,86.680725097656},
			{2359.9677734375,542.5205078125,1.796875,179.4287109375},
			{2294.0419921875,541.0146484375,1.794376373291,179.11560058594},
		},
	},
	{
	    camera = {2491.6127929688,1610.3814697266,23.472099304199,2492.3227539063,1609.7108154297,23.257478713989},
		pos = {
		    {2562.06640625,1577.9208984375,10.8203125,90.580902099609},
			{2556.1826171875,1570.8720703125,10.8203125,88.070495605469},
			{2555.646484375,1562.71484375,10.8203125,89.636077880859},
			{2555.0244140625,1553.9150390625,10.8203125,86.504943847656},
		},
	},
}
spawn.blips = {
   {5,1638.296875,1449.7861328125,31.103475570679},
   {9,2002.01171875,1544.1376953125,13.5859375},
   {22,1609.2109375,1771.80078125,37.489440917969},
   {25,2184.615234375,1680.869140625,20.573843002319},
   {43,2010.0244140625,1008.6552734375,39.268123626709},
   {43,2010.0244140625,1008.6552734375,39.268123626709},
   {30,2266.427734375,2451.4609375,47.175319671631},
   {23,316.3203125,1990.2958984375,64.771430969238},
   {48,2506.046875,1234.8095703125,20.481449127197},
   {33,1103.0283203125,1540.935546875,51.74840927124}
}

skin_selector = {}
skin_selector.pos = {345.5,303.20001,999.90002}
skin_selector.rot = 0.003
skin_selector.cam = {345.42608642578125,308.28814697265625,1000.93408203125,346.84027099609375,210.43154907226562,980.38934326171875}
skin_selector.interior = 6
--[[skin_selector.names = {
	[48] = {"Unknown"},
    [56] = {"Legwarmers 1"},
	[98] = {"Normal Ped"},
	[163] = {"Casino Bouncer 1"},
	[39] = {"Old Maid"},
    [46] = {"Dark Romeo"},
    [59] = {"Chinese Romeo"},
    [43] = {"Porn Producer"},
	[63] = {"Trashy Hooker"},
	[96] = {"Soccer Player"},
    [50] = {"Mechanic"},
    [24] = {"LS Coach"},
    [25] = {"Varsityjacket"},
    [36] = {"Mailman"},
    [51] = {"Black Bicyclist"},
    [52] = {"White Bicyclist"},
    [78] = {"Homeless Scarf"},
    [79] = {"Fat Homeless"},
    [95] = {"Poor Old Man"},
    [7] = {"Casual Jeanjacket"},
    [14] = {"Floral Shirt"},
    [15] = {"Plaid Baldy"},
    [20] = {"Fresh Prince"},
    [23] = {"Skater Kid"},
    [32] = {"Eyepatch"},
    [16] = {"Earmuff Worker"},
    [27] = {"Construction1"},
    [10] = {"Old Fat Lady"},
	[11] = {"Card Dealer 1"},
    [260] = {"Construction Worker"},
	[9] = {"Business Lady"},
    [1] = {"Truth"},
    [2] = {"Maccer"},
    [58] = {"Chinese Plaid"},
    [60] = {"Chinese Casual"},
    [45] = {"Beach Mustache"},
    [97] = {"Baywatch Dude"},
    [140] = {"Buxom Bikini"},
	[142] = {"African 1"},
    [69] = {"Denim Girl"},
	[101] = {"Jacket Hippie"},
    [31] = {"Fat Cowgirl"},
    [34] = {"Marlboro Man"},
    [17] = {"Blacksuit"},
    [57] = {"Chinese Businessman"},
    [13] = {"Homegirl"},
    [102] = {"Baller Shirt"},
    [103] = {"Baller Jacket"},
    [54] = {"Hispanic Woman"},
    [49] = {"Ninja Sensei"},
    [100] = {"Biker Blackshirt"},
    [107] = {"Grove Jersey"},
    [19] = {"Beach Gangsta"},
    [28] = {"Black Dealer"},
    [30] = {"Religious Essey"},
    [47] = {"Top Button Essey"},
    [108] = {"Vagos Topless"},
    [18] = {"Black Beachguy"},
    [33] = {"Bounty Hunter"},
    [26] = {"Hiker"},
    [35] = {"Fisherman"},
    [37] = {"Baseball Dad"},
    [12] = {"Classy Gold Hooker"},
    [55] = {"Rich Bitch"},
    [265] = {"Tenpenny"},
    [266] = {"Pulaski"},
    [267] = {"Hern"},
    [268] = {"Dwayne"},
    [269] = {"Big Smoke"},
    [270] = {"Sweet"},
    [271] = {"Ryder"},
    [272] = {"Forelli Guy"},
    [290] = {"Rose"},
    [291] = {"Kent Paul"},
    [292] = {"Cesar"},
    [293] = {"OG Loc"},
    [294] = {"Wu Zi Mu"},
    [295] = {"Mike Toreno"},
    [296] = {"Jizzy"},
    [297] = {"Madd Dogg"},
    [298] = {"Catalina"},
    [299] = {"John Cena"},
    [300] = {"Ryder"},
    [301] = {"Ryder Robber"},
    [302] = {"Emmet"},
    [303] = {"Andre"},
    [304] = {"Kendl"},
    [305] = {"Jethro"},
    [306] = {"Zero"},
    [307] = {"T-bone Mendez"},
    [308] = {"Sindaco Guy"},
    [309] = {"Janitor"},
    [310] = {"Big Bear"},
    [311] = {"Big Smoke Vest"},
    [312] = {"Physco"},
    [92] = {"Rollergirl"},
    [138] = {"Bikini Tattoo"},
    [139] = {"Yellow Bikini"},
    [154] = {"Beach Blonde"},
    [251] = {"Lifeguard"},
    [252] = {"Naked Freak"},
    [53] = {"Golf Lady"},
    [62] = {"Pajama Man 1"},
    [72] = {"Bearded Hippie"},
    [88] = {"Casual Old Lady"},
    [93] = {"Hoop Earrings 1"},
    [136] = {"Old Rasta"},
    [170] = {"Pube Stache Tshirt"},
    [182] = {"Pajama Man 2"},
    [184] = {"Neckbeard"},
    [188] = {"Green Shirt"},
    [215] = {"Explorer"},
    [217] = {"Staff Guy"},
    [218] = {"Old Woman"},
    [220] = {"African2"},
    [221] = {"Beardo Casual"},
    [222] = {"Beardo Clubbing"},
    [224] = {"Elderly Asian 1"},
    [225] = {"Elderly Asian 2"},
    [226] = {"Legwarmers2"},
    [229] = {"Asian Tourist"},
    [231] = {"Grannie"},
    [232] = {"Grouchylady"},
    [233] = {"Hoop Earrings2"},
    [234] = {"Buzzcut"},
    [236] = {"Happy Old Man"},
    [250] = {"Green Tshirt"},
    [262] = {"Pajama Man 2b"},
    [91] = {"Sharon Stone"},
    [143] = {"Sam Jackson"},
    [147] = {"Sigmund Freud"},
    [240] = {"Hugh Grant"},
    [251] = {"Lifeguard"},
    [258] = {"Joe Pesci"},
    [259] = {"Chris Penn"},
    [44] = {"Tatooed Plaid"},
    [128] = {"Native Rancher"},
    [129] = {"Native Librarian"},
    [130] = {"Native Ugly"},
    [131] = {"Native Sexy"},
    [132] = {"Native Geezer"},
    [157] = {"Farmer Girl"},
    [158] = {"Farmer"},
    [159] = {"Farmer Redneck"},
    [160] = {"Bald Redneck"},
    [161] = {"Smoking Cowboy"},
    [162] = {"Inbred"},
    [196] = {"Aunt May"},
    [197] = {"Smoking Maid"},
    [198] = {"Ranch Cowgirl"},
    [199] = {"Heidi"},
    [200] = {"Hairy Redneck"},
    [201] = {"Trucker Girl"},
    [202] = {"Beer Trucker"},
    [236] = {"Happy Old Man"},
    [261] = {"Southerner"},
    [226] = {"Legwarmers 2"},
    [221] = {"Beardo Casual"},
    [222] = {"Beardo Clubbing"},
    [71] = {"Security Guard"},
    [164] = {"Casino Bouncer 2"},
    [165] = {"Agent Kay"},
    [166] = {"Agent Jay"},
    [277] = {"Fireman LS"},
    [278] = {"Fireman LV"},
    [279] = {"Fireman SF"},
    [274] = {"Medic1"},
    [275] = {"Medic2"},
    [276] = {"Medic3"},
    [73] = {"Flag Bandana"},
    [179] = {"War Vet"},
    [287] = {"Army"},
    [190] = {"Barbara Schternvart"},
    [246] = {"Cop Stripper"},
    [280] = {"Cop1"},
    [281] = {"Cop2"},
    [282] = {"Cop3"},
    [283] = {"Cop4"},
    [284] = {"Cop5"},
    [285] = {"SWAT"},
    [286] = {"FBI"},
    [288] = {"Cop6"},
    [38] = {"Old Golf Lady"},
    [53] = {"Golf Lady"},
    [89] = {"Cleaning Lady"},
    [151] = {"Melanie"},
    [197] = {"Smoking Maid"},
    [199] = {"Heidi"},
    [218] = {"OldWoman"},
    [231] = {"Grannie"},
    [232] = {"Grouchylady"},
    [245] = {"GhettoHo"},
    [258] = {"Joe Pesci"},
    [259] = {"Chris Penn"},
    [61] = {"Pilot"},
    [76] = {"Businesswoman 1"},
    [141] = {"Cute Librarian"},
    [148] = {"Businesswoman 2"},
    [149] = {"Businesswoman 2b"},
    [150] = {"Businesswoman 3"},
    [169] = {"Asian Escort"},
    [186] = {"Teacher"},
    [187] = {"Japanese Businessman 1"},
    [219] = {"Lady In Red"},
    [227] = {"Japanese Businessman 2"},
    [228] = {"Japanese Businessman 3"},
    [255] = {"Limo Driver"},
    [263] = {"Asian Hostess"},
    [180] = {"Bball Player"},
    [203] = {"Ninja 1"},
    [204] = {"Ninja 2"},
    [114] = {"Aztecas Stripes"},
    [115] = {"Aztecas Jacket"},
    [116] = {"Aztecas Shorts"},
    [104] = {"Baller Sweater"},
    [247] = {"Biker Vest"},
    [248] = {"Biker Headband"},
    [254] = {"Biker Vestb"},
    [121] = {"DaNang Army"},
    [122] = {"DaNang Bandana"},
    [123] = {"DaNang Shades"},
    [0] = {"CJ"},
    [105] = {"Grove Sweater"},
    [106] = {"Grove Topbutton"},
    [207] = {"Grove Booty"},
    [125] = {"Mafia Enforcer"},
    [126] = {"Mafia Wiseguy"},
    [127] = {"Mafia Hitman"},
    [173] = {"RifaHat"},
    [174] = {"RifaVest"},
    [175] = {"Rifa Suspenders"},
    [111] = {"Russian Muscle"},
    [112] = {"Russian Hitman"},
    [113] = {"Russian Boss"},
    [120] = {"Sindacco Suit"},
    [124] = {"Sindacco Muscle"},
    [117] = {"Triad 1"},
    [118] = {"Triad 2"},
    [119] = {"Triad 3"},
    [109] = {"Vagos Pants"},
    [110] = {"Vagos Shorts"},
    [21] = {"Striped Gangsta"},
    [22] = {"Orange Sportsman"},
    [29] = {"White Dealer"},
    [67] = {"Red Bandana"},
    [241] = {"Afro Brother"},
    [242] = {"Dreadlock Brother"},
    [243] = {"Ghetto Booty"},
    [190] = {"Barbara Schternvart"},
    [191] = {"Helena Wankstein"},
    [192] = {"Michelle Cannes"},
    [193] = {"Katie Zhan"},
    [194] = {"Millie Perkins"},
    [195] = {"Denise Robinson"},
    [77] = {"Bag Lady"},
    [134] = {"Homeless Smoker"},
    [135] = {"Skullcap Hobo"},
    [137] = {"Boxhead"},
    [200] = {"Hairy Redneck"},
    [212] = {"Tin Foil Hat"},
    [213] = {"Hobo Elvis"},
    [185] = {"NervousG uy"},
    [223] = {"Greasy Nightclubber"},
    [240] = {"Hugh Grant"},
    [64] = {"Transvestite"},
    [75] = {"Skanky Hooker"},
    [85] = {"Furcoat Hooker"},
    [87] = {"Firecrotch"},
    [90] = {"Barely Covered"},
    [152] = {"Schoolgirl1"},
    [178] = {"Masked Stripper"},
    [237] = {"Leopard Hooker"},
    [238] = {"Amazon"},
    [244] = {"Lace Stripper"},
    [245] = {"Ghetto Ho"},
    [246] = {"Cop Stripper"},
    [249] = {"Pimp"},
    [256] = {"Shoolgirl2"},
    [257] = {"Bondage Girl"},
    [53] = {"Golf Lady"},
    [66] = {"Varsity Bandits"},
    [80] = {"Red Boxer"},
    [81] = {"Blue Boxer"},
    [94] = {"Andy Capp"},
    [99] = {"Rollerguy"},
    [195] = {"Denise Robinson"},
    [183] = {"Klingon"},
    [210] = {"Sloppy Tourist"},
    [235] = {"Retired Tourist"},
    [40] = {"Classy Dark Hooker"},
    [41] = {"Tracksuit Girl"},
    [91] = {"Sharon Stone"},
    [216] = {"Turtleneck"},
    [240] = {"Hugh Grant"},
    [75] = {"Skanky Hooker"},
    [137] = {"Boxhead"},
    [151] = {"Melanie"},
    [167] = {"Chicken"},
    [181] = {"Punk"},
    [212] = {"Tin Foil Hat"},
    [230] = {"Hooded Hobo"},
    [241] = {"Afro Brother"},
    [242] = {"Dreadlock Brother"},
    [252] = {"Naked Freak"},
    [264] = {"Whoopeethe Clown"},
    [156] = {"Old Reece"},
    [176] = {"Style Barber"},
    [177] = {"Vanilla Ice Barber"},
    [61] = {"Pilot"},
    [68] = {"Preist"},
    [70] = {"Scientist"},
    [82] = {"Fatty Elvis"},
    [83] = {"Whitesuit Elvis"},
    [84] = {"Bluesuit Elvis"},
    [169] = {"AsianEscort"},
    [171] = {"Card Dealer 2"},
    [172] = {"Card Dealer 3"},
    [189] = {"Valet"},
    [214] = {"Caligula Waitress"},
    [153] = {"Foreman"},
    [144] = {"Drug Worker 1"},
    [145] = {"Drug Worker 2"},
    [146] = {"Drug Worker 3"},
    [155] = {"Pizza Guy"},
    [167] = {"Chicken"},
    [168] = {"Hotdog Vender"},
    [205] = {"Burger Girl"},
    [209] = {"Noodle Vender"},
    [264] = {"Whoopeethe Clown"},
    [211] = {"Staff Girl"},
    [217] = {"Staff Guy"},
    [251] = {"Lifeguard"},
    [253] = {"Bus Driver"},
    [255] = {"Limo Driver"},
    [133] = {"Furys Trucker"},
    [201] = {"Trucker Girl"},
    [202] = {"Beer Trucker"},
    [206] = {"Money Trucker"},
	[239] = {"Homeless"},
}]]
skin_selector.names = {
	[48] = {"Franklin (GTA 5)"},--{"Unknown"},
    [56] = {"Jason Statham"},--{"Legwarmers 1"},
	[98] = {"Tommy Vercetti (Vice City)"},--{"Normal Ped"},
	[163] = {"Leet (Counter-Strike)"},--{"Casino Bouncer 1"},
	[39] = {"Tony Montana (Al Pacino)"},--{"Old Maid"},
    [46] = {"Gang Ped"},--{"Dark Romeo"},
    [59] = {"Gang Ped"},--{"Chinese Romeo"},
    [43] = {"Dominic Toretto (The Fast and the Furious)"},--{"Porn Producer"},
	[63] = {"Gang Ped"},--{"Trashy Hooker"},
	[96] = {"Zolnierz"},--{"Soccer Player"},
    [50] = {"Gang Ped"},--{"Mechanic"},
    [24] = {"Rick Grimes (The Walking Dead)"},--{"LS Coach"},
    [25] = {"Ninja"},--{"Varsityjacket"},
    [36] = {"Snoop Dogg (Def Jam)"},--{"Mailman"},
    [51] = {"Gang Ped"},--{"Black Bicyclist"},
    [52] = {"Unknown"},--{"White Bicyclist"},
    [78] = {"Gang Ped"},--{"Homeless Scarf"},
    [95] = {"Antyterrorysta"},--{"Poor Old Man"},
    [7] = {"Ksiadz"},--{"Casual Jeanjacket"},
    [14] = {"Mime (GTA5)"},--{"Floral Shirt"},
    [15] = {"Xzbit"},--{"Plaid Baldy"},
    [20] = {"Master Chief"},--{"Fresh Prince"},
    [23] = {"Altair (Assasins Creed)"},--{"Skater Kid"},
    [32] = {"Lamar Davis (GTA5)"},--{"Eyepatch"},
    [16] = {"Deathstroke"},--{"Earmuff Worker"},
    [27] = {"Ghostface (Scream)"},--{"Construction1"},
    [10] = {"Lara Croft (Tomb Raider Legend)"},--{"Old Fat Lady"},
	[11] = {"Lara Croft (Tomb Raider 2013)"},--{"Card Dealer 1"},
    [260] = {"Eddy (Tekken)"},--{"Construction Worker"},
	[9] = {"Czarna Wdowa (Natasha Romanov)"},--{"Business Lady"},
    [1] = {"Predator"},--{"Truth"},
    [2] = {"Max Payne"},--{"Maccer"},
    [58] = {"Gang Ped"},--{"Chinese Plaid"},
    [60] = {"Gang Ped"},--{"Chinese Casual"},
    [45] = {"Gang Ped"},--{"Beach Mustache"},
    [97] = {"Kosmita"},--{"Baywatch Dude"},
    [140] = {"Kowbojka Jessie"},--{"Buxom Bikini"},
	[142] = {"Kowboj Woody"},--{"African 1"},
    [69] = {"Gang Ped"},--{"Denim Girl"},
	[101] = {"Gang Ped"},--{"Jacket Hippie"},
    [31] = {"AJ Lee (WWE)"},--{"Fat Cowgirl"},
    [34] = {"Serious Sam"},--{"Marlboro Man"},
    [17] = {"Hitman"},--{"Blacksuit"},
    [57] = {"Daryl Dixon (The Walking Dead)"},--{"Chinese Businessman"},
    [13] = {"Zakonnica"},--{"Homegirl"},
    [102] = {"Ballas Girl"},--{"Baller Shirt"},
    [103] = {"Gang Ped"},--{"Baller Jacket"},
    [54] = {"Gang Ped"},--{"Hispanic Woman"},
    [49] = {"Gang Ped"},--{"Ninja Sensei"},
    [100] = {"Gang Ped"},--{"Biker Blackshirt"},
    [107] = {"Grove Girl"},--{"Grove Jersey"},
    [19] = {"Terminator"},--{"Beach Gangsta"},
    [28] = {"Monster Energy Racer"},--{"Black Dealer"},
    [30] = {"Crimson Head"},--{"Religious Essey"},
    [47] = {"Gang Ped"},--{"Top Button Essey"},
    [108] = {"Vagos Girl"},--{"Vagos Topless"},
    [18] = {"Bandyta"},--{"Black Beachguy"},
    [33] = {"Merle Dixon (The Walking Dead)"},--{"Bounty Hunter"},
    [26] = {"Policjant Kombinatu (Half-Life 2)"},--{"Hiker"},
    [35] = {"Hugh Heffner"},--{"Fisherman"},
    [37] = {"007 James Bond (Skyfall)"},--{"Baseball Dad"},
    [12] = {"Policjantka Jill"},--{"Classy Gold Hooker"},
    [55] = {"Gang Ped"},--{"Rich Bitch"},
	[79] = {"Fat Homeless"},
    [265] = {"Tenpenny"},
    [266] = {"Pulaski"},
    [267] = {"Hern"},
    [268] = {"Dwayne"},
    [269] = {"Big Smoke"},
    [270] = {"Sweet"},
    [271] = {"Ryder"},
    [272] = {"Forelli Guy"},
    [290] = {"Rose"},
    [291] = {"Kent Paul"},
    [292] = {"Cesar"},
    [293] = {"OG Loc"},
    [294] = {"Wu Zi Mu"},
    [295] = {"Mike Toreno"},
    [296] = {"Jizzy"},
    [297] = {"Madd Dogg"},
    [298] = {"Catalina"},
    [299] = {"John Cena"},
    [300] = {"Ryder"},
    [301] = {"Ryder Robber"},
    [302] = {"Emmet"},
    [303] = {"Andre"},
    [304] = {"Kendl"},
    [305] = {"Jethro"},
    [306] = {"Zero"},
    [307] = {"T-bone Mendez"},
    [308] = {"Sindaco Guy"},
    [309] = {"Janitor"},
    [310] = {"Big Bear"},
    [311] = {"Big Smoke Vest"},
    [312] = {"Physco"},
    [92] = {"Rollergirl"},
    [138] = {"Bikini Tattoo"},
    [139] = {"Yellow Bikini"},
    [154] = {"Beach Blonde"},
    [251] = {"Lifeguard"},
    [252] = {"Naked Freak"},
    [53] = {"Golf Lady"},
    [62] = {"Pajama Man 1"},
    [72] = {"Bearded Hippie"},
    [88] = {"Casual Old Lady"},
    [93] = {"Hoop Earrings 1"},
    [136] = {"Old Rasta"},
    [170] = {"Pube Stache Tshirt"},
    [182] = {"Pajama Man 2"},
    [184] = {"Neckbeard"},
    [188] = {"Green Shirt"},
    [215] = {"Explorer"},
    [217] = {"Staff Guy"},
    [218] = {"Old Woman"},
    [220] = {"African2"},
    [221] = {"Beardo Casual"},
    [222] = {"Beardo Clubbing"},
    [224] = {"Elderly Asian 1"},
    [225] = {"Elderly Asian 2"},
    [226] = {"Legwarmers2"},
    [229] = {"Asian Tourist"},
    [231] = {"Grannie"},
    [232] = {"Grouchylady"},
    [233] = {"Hoop Earrings2"},
    [234] = {"Buzzcut"},
    [236] = {"Happy Old Man"},
    [250] = {"Green Tshirt"},
    [262] = {"Pajama Man 2b"},
    [91] = {"Sharon Stone"},
    [143] = {"Sam Jackson"},
    [147] = {"Sigmund Freud"},
    [240] = {"Hugh Grant"},
    [251] = {"Lifeguard"},
    [258] = {"Joe Pesci"},
    [259] = {"Chris Penn"},
    [44] = {"Tatooed Plaid"},
    [128] = {"Native Rancher"},
    [129] = {"Native Librarian"},
    [130] = {"Native Ugly"},
    [131] = {"Native Sexy"},
    [132] = {"Native Geezer"},
    [157] = {"Farmer Girl"},
    [158] = {"Farmer"},
    [159] = {"Farmer Redneck"},
    [160] = {"Bald Redneck"},
    [161] = {"Smoking Cowboy"},
    [162] = {"Inbred"},
    [196] = {"Aunt May"},
    [197] = {"Smoking Maid"},
    [198] = {"Ranch Cowgirl"},
    [199] = {"Heidi"},
    [200] = {"Hairy Redneck"},
    [201] = {"Trucker Girl"},
    [202] = {"Beer Trucker"},
    [236] = {"Happy Old Man"},
    [261] = {"Southerner"},
    [226] = {"Legwarmers 2"},
    [221] = {"Beardo Casual"},
    [222] = {"Beardo Clubbing"},
    [71] = {"Security Guard"},
    [164] = {"Casino Bouncer 2"},
    [165] = {"Agent Kay"},
    [166] = {"Agent Jay"},
    [277] = {"Fireman LS"},
    [278] = {"Fireman LV"},
    [279] = {"Fireman SF"},
    [274] = {"Medic1"},
    [275] = {"Medic2"},
    [276] = {"Medic3"},
    [73] = {"Flag Bandana"},
    [179] = {"War Vet"},
    [287] = {"Army"},
    [190] = {"Barbara Schternvart"},
    [246] = {"Cop Stripper"},
    [280] = {"Cop1"},
    [281] = {"Cop2"},
    [282] = {"Cop3"},
    [283] = {"Cop4"},
    [284] = {"Cop5"},
    [285] = {"SWAT"},
    [286] = {"FBI"},
    [288] = {"Cop6"},
    [38] = {"Old Golf Lady"},
    [53] = {"Golf Lady"},
    [89] = {"Cleaning Lady"},
    [151] = {"Melanie"},
    [197] = {"Smoking Maid"},
    [199] = {"Heidi"},
    [218] = {"OldWoman"},
    [231] = {"Grannie"},
    [232] = {"Grouchylady"},
    [245] = {"GhettoHo"},
    [258] = {"Joe Pesci"},
    [259] = {"Chris Penn"},
    [61] = {"Pilot"},
    [76] = {"Businesswoman 1"},
    [141] = {"Cute Librarian"},
    [148] = {"Businesswoman 2"},
    [149] = {"Businesswoman 2b"},
    [150] = {"Businesswoman 3"},
    [169] = {"Asian Escort"},
    [186] = {"Teacher"},
    [187] = {"Japanese Businessman 1"},
    [219] = {"Lady In Red"},
    [227] = {"Japanese Businessman 2"},
    [228] = {"Japanese Businessman 3"},
    [255] = {"Limo Driver"},
    [263] = {"Asian Hostess"},
    [180] = {"Bball Player"},
    [203] = {"Ninja 1"},
    [204] = {"Ninja 2"},
    [114] = {"Aztecas Stripes"},
    [115] = {"Aztecas Jacket"},
    [116] = {"Aztecas Shorts"},
    [104] = {"Baller Sweater"},
    [247] = {"Biker Vest"},
    [248] = {"Biker Headband"},
    [254] = {"Biker Vestb"},
    [121] = {"DaNang Army"},
    [122] = {"DaNang Bandana"},
    [123] = {"DaNang Shades"},
    [0] = {"CJ"},
    [105] = {"Grove Sweater"},
    [106] = {"Grove Topbutton"},
    [207] = {"Grove Booty"},
    [125] = {"Mafia Enforcer"},
    [126] = {"Mafia Wiseguy"},
    [127] = {"Mafia Hitman"},
    [173] = {"RifaHat"},
    [174] = {"RifaVest"},
    [175] = {"Rifa Suspenders"},
    [111] = {"Russian Muscle"},
    [112] = {"Russian Hitman"},
    [113] = {"Russian Boss"},
    [120] = {"Sindacco Suit"},
    [124] = {"Sindacco Muscle"},
    [117] = {"Triad 1"},
    [118] = {"Triad 2"},
    [119] = {"Triad 3"},
    [109] = {"Vagos Pants"},
    [110] = {"Vagos Shorts"},
    [21] = {"Striped Gangsta"},
    [22] = {"Orange Sportsman"},
    [29] = {"White Dealer"},
    [67] = {"Red Bandana"},
    [241] = {"Afro Brother"},
    [242] = {"Dreadlock Brother"},
    [243] = {"Ghetto Booty"},
    [190] = {"Barbara Schternvart"},
    [191] = {"Helena Wankstein"},
    [192] = {"Michelle Cannes"},
    [193] = {"Katie Zhan"},
    [194] = {"Millie Perkins"},
    [195] = {"Denise Robinson"},
    [77] = {"Bag Lady"},
    [134] = {"Homeless Smoker"},
    [135] = {"Skullcap Hobo"},
    [137] = {"Boxhead"},
    [200] = {"Hairy Redneck"},
    [212] = {"Tin Foil Hat"},
    [213] = {"Hobo Elvis"},
    [185] = {"NervousG uy"},
    [223] = {"Greasy Nightclubber"},
    [240] = {"Hugh Grant"},
    [64] = {"Transvestite"},
    [75] = {"Skanky Hooker"},
    [85] = {"Furcoat Hooker"},
    [87] = {"Firecrotch"},
    [90] = {"Barely Covered"},
    [152] = {"Schoolgirl1"},
    [178] = {"Masked Stripper"},
    [237] = {"Leopard Hooker"},
    [238] = {"Amazon"},
    [244] = {"Lace Stripper"},
    [245] = {"Ghetto Ho"},
    [246] = {"Cop Stripper"},
    [249] = {"Pimp"},
    [256] = {"Shoolgirl2"},
    [257] = {"Bondage Girl"},
    [53] = {"Golf Lady"},
    [66] = {"Varsity Bandits"},
    [80] = {"Red Boxer"},
    [81] = {"Blue Boxer"},
    [94] = {"Andy Capp"},
    [99] = {"Rollerguy"},
    [195] = {"Denise Robinson"},
    [183] = {"Klingon"},
    [210] = {"Sloppy Tourist"},
    [235] = {"Retired Tourist"},
    [40] = {"Classy Dark Hooker"},
    [41] = {"Tracksuit Girl"},
    [91] = {"Sharon Stone"},
    [216] = {"Turtleneck"},
    [240] = {"Hugh Grant"},
    [75] = {"Skanky Hooker"},
    [137] = {"Boxhead"},
    [151] = {"Melanie"},
    [167] = {"Chicken"},
    [181] = {"Punk"},
    [212] = {"Tin Foil Hat"},
    [230] = {"Hooded Hobo"},
    [241] = {"Afro Brother"},
    [242] = {"Dreadlock Brother"},
    [252] = {"Naked Freak"},
    [264] = {"Whoopeethe Clown"},
    [156] = {"Old Reece"},
    [176] = {"Style Barber"},
    [177] = {"Vanilla Ice Barber"},
    [61] = {"Pilot"},
    [68] = {"Preist"},
    [70] = {"Scientist"},
    [82] = {"Fatty Elvis"},
    [83] = {"Whitesuit Elvis"},
    [84] = {"Bluesuit Elvis"},
    [169] = {"AsianEscort"},
    [171] = {"Card Dealer 2"},
    [172] = {"Card Dealer 3"},
    [189] = {"Valet"},
    [214] = {"Caligula Waitress"},
    [153] = {"Foreman"},
    [144] = {"Drug Worker 1"},
    [145] = {"Drug Worker 2"},
    [146] = {"Drug Worker 3"},
    [155] = {"Pizza Guy"},
    [167] = {"Chicken"},
    [168] = {"Hotdog Vender"},
    [205] = {"Burger Girl"},
    [209] = {"Noodle Vender"},
    [264] = {"Whoopeethe Clown"},
    [211] = {"Staff Girl"},
    [217] = {"Staff Guy"},
    [251] = {"Lifeguard"},
    [253] = {"Bus Driver"},
    [255] = {"Limo Driver"},
    [133] = {"Furys Trucker"},
    [201] = {"Trucker Girl"},
    [202] = {"Beer Trucker"},
    [206] = {"Money Trucker"},
	[239] = {"Homeless"},
}

drawX,drawY = guiGetScreenSize()
defaultW,defaultH = 800,600
width,height = (drawX/defaultW),(drawY/defaultH)

local counter = 0
local starttick
local currenttick

local function addGlassParticle(r,g,b,a,scale,count)
	local x,y,z = getElementPosition(localPlayer)
    fxAddGlass(x,y,z,r,g,b,a,scale,count)
end

function isTargetClient()
    local targetCamera = getCameraTarget()
	if targetCamera then
	    local targetElement = getElementType(targetCamera)
		if targetElement then
        	if targetElement == "player" or targetElement == "vehicle" then
				return true
        	else
				return false
    	    end
		end
	end
end

function getSkinName(skinid)
    if not skin_selector.names[skinid] then return "Unknown" end
    return skin_selector.names[skinid][1]
end

function dxDrawBorderedText(text,left,top,right,bottom,color,scale,font,alignX,alignY,clip,wordBreak,postGUI,alpha,r,g,b)
    local r,g,b = r,g,b or 0,0,0
    for oX = -1,1 do
        for oY = -1,1 do
            dxDrawText(removeHEXFromString(text),left + oX,top + oY,right + oX,bottom + oY,tocolor(r,g,b,alpha),scale,font,alignX,alignY,clip,wordBreak,postGUI,true)
        end
    end
    dxDrawText(text,left,top,right,bottom,color,scale,font,alignX,alignY,clip,wordBreak,postGUI,true)
end

function removeHEXFromString(str)
    return str:gsub("#%x%x%x%x%x%x","")
end

addEventHandler("onClientPlayerWasted",localPlayer,
function()
	if source == localPlayer then
		if cDamageTimer and isTimer(cDamageTimer) then
			killTimer(cDamageTimer)
			cDamageTimer = nil
			--setElementData(localPlayer,"isPlayerDamage",false)
			triggerServerEvent("Server:toggleDamage",resourceRoot,false)
		end
	end
end)

addEventHandler("onClientPlayerSpawn",localPlayer,
function()
	triggerServerEvent("Server:toggleDamage",resourceRoot,false)
end)

addEventHandler("onClientPlayerDamage",localPlayer,
function(attacker)
	--if attacker == localPlayer then return end
	if cDamageTimer and isTimer(cDamageTimer) then 
		resetTimer(cDamageTimer)
	else
		--setElementData(localPlayer,"isPlayerDamage",true)
		triggerServerEvent("Server:toggleDamage",resourceRoot,true)
		cDamageTimer = setTimer(enableClientCommands,15000,1)
	end
end)

function enableClientCommands()
	--setElementData(localPlayer,"isPlayerDamage",false)
	triggerServerEvent("Server:toggleDamage",resourceRoot,false)
	cDamageTimer = nil
end

addEvent("Client:isPlayerDamage",true)
addEventHandler("Client:isPlayerDamage",localPlayer,
function()
    if cDamageTimer and isTimer(cDamageTimer) then
	    createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000)
		local remaining, executesRemaining, totalExecutes = getTimerDetails(cDamageTimer)
		outputChatBox("● INFO: Musisz odczekać "..math.floor(remaining/1000).."s.",255,0,0,true)
	end
end)

function isPlayerGotDamage(plr)
	if cDamageTimer and isTimer(cDamageTimer) then
		triggerEvent("Client:isPlayerDamage",localPlayer)
		return true
	else
		return false
	end
end

spawn.GUI = {
    gridlist = {},
    window = {},
	button = {},
	column = {},
}
spawn.selected = false
spawn.row = 1

function createSpawnSelectionMenu()
	spawn.row = 1
	triggerServerEvent("fixElementInterior",resourceRoot,0)
	triggerServerEvent("fixElementDimension",resourceRoot,0)
    setCameraMatrix(spawn.points[1].camera[1],spawn.points[1].camera[2],spawn.points[1].camera[3],spawn.points[1].camera[4],spawn.points[1].camera[5],spawn.points[1].camera[6])
	spawn.GUI.window[1] = guiCreateWindow(0.78,0.15,0.22,0.705,"WYBIERZ SPAWN",true)
	spawn.GUI.gridlist[1] = guiCreateGridList(0.045,0.10,0.91,0.84,true,spawn.GUI.window[1])
	spawn.GUI.column[1] = guiGridListAddColumn(spawn.GUI.gridlist[1],"",0.8)
	spawn.GUI.button[1] = guiCreateButton(0.78,0.94,0.214,0.05,"SPAWN ->",true)
	spawn.GUI.button[2] = guiCreateButton(0.56,0.94,0.214,0.05,"LOSOWY SPAWN",true)
	spawn.GUI.button[3] = guiCreateButton(0.01,0.94,0.214,0.05,"<- ZMIEŃ SKIN",true)
	guiWindowSetSizable(spawn.GUI.window[1],false)
	guiWindowSetMovable(spawn.GUI.window[1],false)
	guiGridListSetSelectionMode(spawn.GUI.gridlist[1],2)
	for i,v in pairs(spawn.names) do
	    local row = guiGridListAddRow(spawn.GUI.gridlist[1])
	    guiGridListSetItemText(spawn.GUI.gridlist[1],row,spawn.GUI.column[1],tostring(v),false,false)
	end
	guiSetFont(spawn.GUI.gridlist[1],"default-bold-small")
	guiSetFont(spawn.GUI.button[1],"default-bold-small")
	guiSetFont(spawn.GUI.button[2],"default-bold-small")
	guiSetFont(spawn.GUI.button[3],"default-bold-small")
	guiSetAlpha(spawn.GUI.window[1],0.6)
	guiSetAlpha(spawn.GUI.button[1],0.6)
	guiSetAlpha(spawn.GUI.button[2],0.6)
	guiSetAlpha(spawn.GUI.button[3],0.6)
	addEventHandler("onClientGUIClick",spawn.GUI.gridlist[1],
	function()
        local guiRowIndex = guiGridListGetSelectedItem(spawn.GUI.gridlist[1])
        local cSelectedSpawn = guiGridListGetItemText(spawn.GUI.gridlist[1],guiGridListGetSelectedItem(spawn.GUI.gridlist[1]),1)
	    if cSelectedSpawn and cSelectedSpawn ~= "" and guiRowIndex then
	        spawn.row = guiRowIndex+1
		    fadeCamera(false,0.01)
		    guiSetEnabled(spawn.GUI.button[1],false)
		    guiSetEnabled(spawn.GUI.window[1],false)
		    guiSetEnabled(spawn.GUI.button[2],false)
			guiSetEnabled(spawn.GUI.button[3],false)
		    setTimer(function()
		        setCameraMatrix(spawn.points[spawn.row].camera[1],spawn.points[spawn.row].camera[2],spawn.points[spawn.row].camera[3],spawn.points[spawn.row].camera[4],spawn.points[spawn.row].camera[5],spawn.points[spawn.row].camera[6])
		        guiSetEnabled(spawn.GUI.button[1],true)
		        guiSetEnabled(spawn.GUI.window[1],true)
		        guiSetEnabled(spawn.GUI.button[2],true)
				guiSetEnabled(spawn.GUI.button[3],true)
		        fadeCamera(true,0.7)
		    end,150,1)
	    end
	end,false)
	addEventHandler("onClientGUIClick",spawn.GUI.button[1],cSpawnPlayer,false)
	addEventHandler("onClientGUIClick",spawn.GUI.button[2],cRandomPlayerSpawn,false)
	addEventHandler("onClientGUIClick",spawn.GUI.button[3],
	function()
		guiSetVisible(spawn.GUI.window[1],false)
		guiSetVisible(spawn.GUI.button[1],false)
		guiSetVisible(spawn.GUI.button[2],false)
		guiSetVisible(spawn.GUI.button[3],false)
		fadeCamera(false,0.01)
		startSkinSelection()
	end,false)
	guiGridListSetSelectedItem(spawn.GUI.gridlist[1],0,spawn.GUI.column[1])
	guiSetVisible(spawn.GUI.window[1],true)
	fadeCamera(true,0.7)
	if spawn.GUI.window[1] then guiGridListSetSortingEnabled(spawn.GUI.window[1],false) end
end

bindKey("enter","down",
function()
    if guiGetVisible(spawn.GUI.window[1]) == true then
        cSpawnPlayer(false)
	end
end)

bindKey("f6","down","chspawn")
addCommandHandler("chspawn",
function()
	spawn.selected = false
	outputChatBox("● INFO: Menu wyboru spawnu pojawi się po śmierci.",0,255,255)
end)

function cHideSpawnGui()
	guiSetVisible(spawn.GUI.window[1],false)
	guiSetVisible(spawn.GUI.button[1],false)
	guiSetVisible(spawn.GUI.button[2],false)
	guiSetVisible(spawn.GUI.button[3],false)
end

function cShowSpawnGui()
    hideAllGUI()
	--guiSetVisible(mini_games.GUI.gridlist[1],false)
    triggerServerEvent("fixElementInterior",resourceRoot,0)
	guiSetVisible(spawn.GUI.window[1],true)
	guiSetVisible(spawn.GUI.button[1],true)
	guiSetVisible(spawn.GUI.button[2],true)
	guiSetVisible(spawn.GUI.button[3],true)
	showCursor(true)
end

function cRandomPlayerSpawn()
    cSpawnPlayer(true)
end

function cSpawnPlayer(random)
	outputChatBox("● INFO: Jeśli chcesz zmienić miejsce spawnu lub skin, przed śmiercią naciśnij klawisz 'F6'.",255,255,0)
	spawn.selected = true
	--local confirm_sound = playSound("__sounds/click_confirm.ogg")
	--setSoundVolume(confirm_sound,0.3)
    fadeCamera(false,0.7)
	cHideSpawnGui()
    if random == true then
        setTimer(function()
	        guiSetVisible(__introImage,false)
		    --triggerServerEvent("fixElementInterior",resourceRoot,0)
	        showPlayerHudComponent("radar",true)
	        local __randomSpawn = math.random(1,4)
		    spawn.row = math.random(1,#spawn.names)
	        triggerServerEvent("Server:SpawnPlayer",resourceRoot,{spawn.points[spawn.row].pos[__randomSpawn][1],spawn.points[spawn.row].pos[__randomSpawn][2],spawn.points[spawn.row].pos[__randomSpawn][3],spawn.points[spawn.row].pos[__randomSpawn][4],getElementModel(localPlayer)})
            if join_sound then
	            stopSound(join_sound)
	    	    join_sound = nil
	        end
			guiSetVisible(weapons_menu.GUI.window[1],true)
			showCursor(true)
		end,1500,1)
	else
		setTimer(function()
			guiSetVisible(__introImage,false)
			showPlayerHudComponent("radar",true)
			--triggerServerEvent("fixElementInterior",resourceRoot,0)
			local __randomSpawn = math.random(1,4)
			triggerServerEvent("Server:SpawnPlayer",resourceRoot,{spawn.points[spawn.row].pos[__randomSpawn][1],spawn.points[spawn.row].pos[__randomSpawn][2],spawn.points[spawn.row].pos[__randomSpawn][3],spawn.points[spawn.row].pos[__randomSpawn][4],getElementModel(localPlayer)})
			if join_sound then
				stopSound(join_sound)
				join_sound = nil
			end
			guiSetVisible(weapons_menu.GUI.window[1],true)
			showCursor(true)
		end,1500,1)
	end
end

addEvent("Client:ShowSpawnMenu",true)
addEventHandler("Client:ShowSpawnMenu",localPlayer,
function()
	setCameraTarget(localPlayer)
	if spawn.selected == true then cSpawnPlayer(false) return end
    cShowSpawnMenu()
end)

function cShowSpawnMenu()
    if guiGetVisible(spawn.GUI.window[1]) == true then return end
    --setElementFrozen(localPlayer,true)
    fadeCamera(false,0.01)
	--guiSetVisible(mini_games.GUI.gridlist[1],false)
	showPlayerHudComponent("radar",false)
	setTimer(function()
        guiSetVisible(__introImage,true)
	    guiSetVisible(spawn.GUI.window[1],true)
	    guiSetVisible(spawn.GUI.button[1],true)
	    guiSetVisible(spawn.GUI.button[2],true)
		guiSetVisible(spawn.GUI.button[3],true)
	    fadeCamera(true,0.7)
	    showCursor(true)
		--setElementHealth(localPlayer,100)
		triggerServerEvent("fixElementDimension",resourceRoot,0)
		triggerServerEvent("fixElementInterior",resourceRoot,0)
        setCameraMatrix(spawn.points[spawn.row].camera[1],spawn.points[spawn.row].camera[2],spawn.points[spawn.row].camera[3],spawn.points[spawn.row].camera[4],spawn.points[spawn.row].camera[5],spawn.points[spawn.row].camera[6])
	    guiGridListSetSelectedItem(spawn.GUI.gridlist[1],spawn.row-1,spawn.GUI.column[1])
	end,500,1)
end

function skin_selector.change_skin(button,state,absoluteX,absoluteY)
    addGlassParticle(0,255,255,150,0.04,5)
	addGlassParticle(0,255,255,150,0.04,5)
	addGlassParticle(0,255,255,150,0.04,5)
    addGlassParticle(0,255,255,150,0.02,5)
	playSoundFrontEnd(32)
	local g_Skin = tonumber(getElementModel(localPlayer))
    if source == skin_selector.prev then
		if g_Skin == 0 then setElementModel(localPlayer,312) return end
		if g_Skin == 290 then setElementModel(localPlayer,288) return end
		if g_Skin == 274 then setElementModel(localPlayer,272) return end
		if g_Skin == 240 then setElementModel(localPlayer,238) return end
		if g_Skin == 209 then setElementModel(localPlayer,207) return end
		if g_Skin == 150 then setElementModel(localPlayer,148) return end
		if g_Skin == 120 then setElementModel(localPlayer,118) return end
		if g_Skin == 87 then setElementModel(localPlayer,85) return end
		if g_Skin == 75 then setElementModel(localPlayer,73) return end
		if g_Skin == 66 then setElementModel(localPlayer,64) return end
		if g_Skin == 43 then setElementModel(localPlayer,41) return end
		if g_Skin == 9 then setElementModel(localPlayer,7) return end
		if g_Skin == 7 then setElementModel(localPlayer,2) return end
		setElementModel(localPlayer,g_Skin-1)
	end
    if source == skin_selector.next then
		if g_Skin == 312 then setElementModel(localPlayer,0) return end
		if g_Skin == 288 then setElementModel(localPlayer,290) return end
		if g_Skin == 272 then setElementModel(localPlayer,274) return end
		if g_Skin == 238 then setElementModel(localPlayer,240) return end
		if g_Skin == 207 then setElementModel(localPlayer,209) return end
		if g_Skin == 148 then setElementModel(localPlayer,150) return end
		if g_Skin == 118 then setElementModel(localPlayer,120) return end
		if g_Skin == 85 then setElementModel(localPlayer,87) return end
		if g_Skin == 73 then setElementModel(localPlayer,75) return end
		if g_Skin == 64 then setElementModel(localPlayer,66) return end
		if g_Skin == 41 then setElementModel(localPlayer,43) return end
		if g_Skin == 7 then setElementModel(localPlayer,9) return end
		if g_Skin == 2 then setElementModel(localPlayer,7) return end
		setElementModel(localPlayer,g_Skin+1)
	end
    if source == skin_selector.ok then
		guiSetVisible(skin_selector.next,false)
		guiSetVisible(skin_selector.prev,false)
		guiSetVisible(skin_selector.ok,false)
		guiSetVisible(skin_selector.window,false)
		guiSetVisible(helpmenu.GUI.window[1],false)
		removeEventHandler("onClientRender",root,dxSkinSelector)
	    fadeCamera(false,0.01)
		showChat(true)
		setTimer(createSpawnSelectionMenu,1000,1)
		--local confirm_sound = playSound("__sounds/click_confirm.ogg")
		--setSoundVolume(confirm_sound,0.3)
	end
end

--[[addEventHandler("onClientPlayerWeaponFire",root,
function(weapon,ammo,ammoInClip,hitX,hitY,hitZ,hitElement)
    local marker = createMarker(hitX,hitY,hitZ,"corona",0.05,0,255,255,255)
	setElementInterior(marker,getElementInterior(localPlayer))
	setElementDimension(marker,getElementDimension(localPlayer))
	setTimer(destroyElement,100,1,marker)
end)]]

function startSkinSelection()
	triggerServerEvent("fixElementInterior",resourceRoot,skin_selector.interior)
	triggerServerEvent("fixElementDimension",resourceRoot,tonumber(math.random(1,65535)))
	setElementPosition(localPlayer,skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3])
	--triggerServerEvent("Server:SetPlayerPosition",resourceRoot,{skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3]})
	setElementRotation(localPlayer,0,0,skin_selector.rot,"default",false)
	setCameraMatrix(skin_selector.cam[1],skin_selector.cam[2],skin_selector.cam[3],skin_selector.cam[4],skin_selector.cam[5],skin_selector.cam[6])
	--setElementFrozen(localPlayer,true)
	setTimer(function()
		guiSetVisible(skin_selector.next,true)
		guiSetVisible(skin_selector.prev,true)
		guiSetVisible(skin_selector.ok,true)
		guiSetVisible(skin_selector.window,true)
		fadeCamera(true,0.7)
		addEventHandler("onClientRender",root,dxSkinSelector)
		showCursor(true)
		setElementPosition(localPlayer,skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3])
		--triggerServerEvent("Server:SetPlayerPosition",resourceRoot,{skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3]})
	end,800,1)
end

function dxSkinSelector()
	if localPlayer then
		setElementPosition(localPlayer,skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3])
		--triggerServerEvent("Server:SetPlayerPosition",resourceRoot,{skin_selector.pos[1],skin_selector.pos[2],skin_selector.pos[3]})
		setElementRotation(localPlayer,0,0,skin_selector.rot)
	end
    local skinID = getElementModel(localPlayer)
	local skinName = getSkinName(skinID) or "Unknown"
	if skinName then
        dxDrawBorderedText(tostring(skinID.." ● "..skinName),drawX*0.5,drawY*0.7,drawX*0.5,drawY*0.7,tocolor(0,255,255,255),2*drawX/1366,"diploma","center","top",false,false,false,255)
	end
end

helpmenu = {}
helpmenu.GUI ={
    tab = {},
    tabpanel = {},
    label = {},
    button = {},
    window = {},
    memo = {}
}

addEventHandler("onClientResourceStart",resourceRoot,
function()

	helpmenu.regulamin=[[
		NA SERWERZE NIE WOLNO!:
		
		        §1.  Używać jakichkolwiek wspomagaczy ułatwiających grę.
		        §2.  Wykorzystywać bugi/błedy na serwerze w celu ułatwienia sobie gry.
		        §3.  Spamować i używać słów powszechnie uznanych za wulgarne.
		        §4.  Wyzywać lub obrażać innych graczy.
		        §5.  Omijać cenzury.
		        §6.  Podszywać się pod innych graczy.
		        §7.  Reklamować stron www,klanowych,IP innych serwerów.
		        §8.  Rejestrować więcej niż jedno konto.
			
		Za nieprzestrzeganie REGULAMINU grozi MUTE,KICK lub nawet BAN.
	]]
	
	helpmenu.komendy=[[
		[Mini-Gry]: 
		- /fo - Zapisuje na minigrę Fallout.
		- /oneshoot - Wchodzisz na OneShot.
		- /osexit - Wychodzisz z OneSoot.
		- /derby - Zapisuje na minigrę Destruction Derby.
		- /wg - Zapisuje na minigrę Wojnę gangów.
		- /hay - Zapisuje na minigrę Hay.
		- /race - Zapisuje na minigrę Race(Wyścig).
		- /mc - Zapisuje na minigrę Monster Crash.
		- /drexit - Rezygnujesz z wyścigu.
		- /dr - Zapisuje na minigrę Drift.
		- /rexit - Rezygnujesz z wyścigu.
		- /r - Przenosi pojazd do poprzedniego punktu kontrolnego na wyścigu.
		- /wypisz - Wypisuje z minigry.
		
		
		[GRACZ]:
		- /flo - Komenda naprawia bug/bład przez który nie można zadawać obrażeń innym graczom.
		- /playtime - Wyświetla czas gry.
		- /chspawn lub klawisz [F7] - Wyświetla menu wyboru miejsca spawnu po śmierci.
		- /teleporty lub klawisz [F2] - Menu teleportów.
		- /stats <id gracza> - Wyświetla statystyki gracza o podanym ID.
		- /top100 - Wyświetla listę 100 najlepszych graczy.
		- /pomoc lub klawisz [F9] - Wyświetla menu pomocy.
		- /biznesy - Wyświetla listę biznesów.
		- /okradnij <id gracza> - Okradasz gracza z pieniędzy,życia,broni i kamizelki.
		- /hitman <id gracza> <kwota> - Wystawiasz nagrodę za zabicie gracza.
		- /nagroda <id gracza> - Wyświetla ilość nagród wystawionych za zabicie gracza.
		- /jetp - Daje jetpack za 125000$ - (Aby zdjąć jetpack wpisz tę komendę ponownie).
		- /admins - Wyświetla listę adminów.
		- /pw <id gracza> <treść wiadomości> - Wysyła prywatną wiadomość.
		- /teleporty - Wyświetla listę teleportów.
		- /walking <id> - Zmienia styl chodzenia/poruszania się.
		- /solo <id gracza> - Zapraszasz gracza na pojedynek.
		- /solo-on /solo-off - Włącza lub wyłącza możliwość zapraszania Cię na pojedynek.
		- /style <id> - Zmienia styl walki.
		- /givecash <id gracza> <kwota> - Przesyła pieniądze dla gracza.
		- /kolor <r> <g> <b> - Zmienia kolor nicka - (Przykład: /kolor 255 50 200).
		- /kill - Popełniasz samobójstwo.
		- /savepos - Zapisuje pozycję dla wszystkich graczy.
		- /loadpos - Wczytujesz zapisaną pozycję.
		- /100hp - Uzupełniasz życie na 100% za 6500$.
		- /kamizelka - Daje kamizelkę za 15000$.
		- /spawnkamizelka - Daje kamizelkę na spawn za 125000$.
		- /skok <500-10000> - Skaczesz z dużej wysokości.
		- /skin <id> - Zmienia skin - (Przykład: /skin 294).
		
		
		[GANG]:
		- /gangs - Wyświetla listę gangów.
		- /gang-create <nazwa gangu> - Tworzy gang o podanej nazwie.
		- /gang-panel lub klawisz [F4] - Wyświetla panel do zarządzania gangiem - (Do panelu ma dostęp tylko lider).
		- /gang-kick <login członka gangu> - Wyrzucasz gracza z gangu - (Komenda dostępna tylko dla lidera).
		- /gang-kolor <r> <g> <b> - Zmienia kolor gangu - (Komenda dostępna tylko dla lidera).
		- /gang-baza - Teleportuje do bazy gangu.
		- /gang-quit - Wychodzisz z gangu - (Jeśli jesteś liderem,to gang zostanie usunięty).
		- /gang-info - Wyświetla listę członków gangu.
		- /gang-invite <id gracza> - Zapraszasz gracza do gangu - (Komenda dostępna dla lidera i zastępcy lidera).
		- /g <wiadomość> - Wysyła wiadomość do wszystkich członków gangu.
		'Leader' - Może w pełni zarządzać gangiem.
		'Sub Leader' - Może tylko zapraszać innych graczy do gangu.
		'Member' - Jest zwykłym członkiem gangu i nie może nim zarządzać.
		
		
		[POJAZD]
		- /privcar lub klawisz [F3] - Wyświetla panel do zarządzania prywatnym pojazdem.
		- /veh lub klawisz [F1] - Wyświetla menu tworzenia pojazdów.
		- /tune - Automatycznie tuninguje pojazd za 5000$.
		- /plate <nazwa> - Zmienia nazwę tablicy rejestracyjnej.
		- /napraw - Naprawia pojazd za 5000$.
		- /flip - Stawia pojazd na koła za 1000$.
		- /vkolor <r1> <g1> <b1> <r2> <g2> <b2> - Zmienia kolor pojazdu - (Przykład: /vkolor 45 255 6 0 255 0).
		- /vs lub klawisz L - Włącza lub Wyłącza światła.
		- /vskolor <r> <g> <b> - Zmienia kolor przednich świateł - (Przykład: /vskolor 45 255 6)
		- /lock - Zamyka pojazd.
		- /unlock - Otwiera pojazd.
		- /v <nazwa pojazdu lub id pojazdu> - Tworzy pojazd o podanej nazwie lub podanym id za 1000$ - (Przykład: /v infernus lub /v 522).
		- /nitro - Dodaje nitro dla pojazdu za 5000$.
		
		
		[INNE]:
		- /zarejestruj <login> hasło> - Rejestruje konto.
		- /zaloguj <login> <hasło> - Loguje na konto.
		- /wyloguj - Wylogowuje z konta.
		- /zmienhaslo <stare haslo> <nowe haslo> - Zmienia hasło konta.
		- /zmiennick - Zmienia nick/login konta.
		- /locktime - Zatrzymuje czas.
		- /mytime <godzina> <minuta> - Zmienia czas - (Przykład: /mytime 10 12).
		- /kolorwody <r> <g> <b> <a> - Zmienia kolor wody - (Przykład: /kolorwody 0 150 200 120)
		- /pogoda <id> - Zmienia pogodę - (Przykład: /pogoda 1).
		- /time - Pokazuje aktualny czas.
		- /quit - Wyłącza grę.
	]]
	
	helpmenu.teleporty=[[
		[TELEPORTY]:
		- /teleporty lub klawisz [F2] - Menu teleportów.
		
		- /stuntpark,
		- /lv,/ls,/sf,
		- /tunelv,/tunels,/tunesf,
		- /lvlot,/lslot,/sflot,
		- /starelotnisko,/tama,/gora,
		- /cj,/skate,/parking,
		- /tram,/dworzec,/molo,/bank,
		- /arena
	]]
	
	helpmenu.faq=[[
		FAQ - najczęściej zadawane pytania.
		
		Co to jest DeathMatch(DM)?
		- Jest to tryb gry który polega głównie na zabijaniu innych graczy i zdobyciu jak największej ilości fragów.
		
		Jaki jest adres strony/forum serwera?
		- WWW.MTAPSD.XUP.PL (forum tymczasowe)
		
		Jak opłacić dom?
		- Opłata za dom jest pobierana automatycznie (jeśli na koncie nie będziesz miał(a) wymaganej ilości exp, domek zostanie skonfiskowany).
		
		Co daje Exp/Level?
		- Level 1 lub wyższy - Odblokowuje możliwość spawnu pojazdów.
		- Level 5 lub wyższy - Odblokowuje możliwość wykupienia biznesu i nowy zestaw broni: Brass Knuckles / Silenced Pistol / Sawn-Off Shotgun / MP5 / AK-47.
		- Level 10 lub wyższy - Odblokowuje możliwość stworzenia gangu i napadu na bank.
		- Level 12 lub wyższy - Odblokowuje nowy zestaw broni: Baseball Bat  / Desert Eagle / SPAZ-12 / TEC-9 / M4
		- Level 15 lub wyższy - Odblokowuje możliwość kupna prywatnego pojazdu
		- Level 20 lub wyższy - Odblokowuje możliwość zmiany koloru nick'a i nowy zestaw broni: 25% Armor / Nightstick / Pistol / Shotgun / Uzi / AK-47 / Country Rifle / Spraycan.
		- Level 25 lub wyższy - Odblokowuje nowy zestaw broni:.50% Armor / Katana / Silenced Pistol / Sawn-Off Shotgun / MP5 / AK-47 / Tear Gas / Country Rifle / Fire Extinguisher
		- Level 30 lub wyższy - Odblokowuje możliwość zmiany loginu/nicka i nowy zestaw broni: 100% Armor / Chainsaw / Desert Eagle / SPAZ-12 / TEC-9 / M4 / Sniper Rifle / Grenade / Fire Extinguisher / Rocket Launcher.
		
		Jak zdobyć pieniądze/exp?
		- Zabijaj innych graczy.
		- Odszukaj ukryte paczki porozmieszczane w całym LV(Las Venturas).
		- Graj w minigry.
		- Napadnij na bank.
		- Wykup biznes.
		
		Gdzie znajdują się banki?
		- Banki znajdują się głownie w sklepach 24/7 i oznaczone są dyskietką na minimapie.
		
		Gdzie znajdują się biznesy?
		- Każdy biznes jest oznaczony na minimapie ikoną 'S'(Zielona oznacza że biznes jest wolny).
		
		Jak/Gdzie kupić prywatny pojazd?
		- Możesz go kupić z menu dostępnego pod klawiszem 'F3'(Można posiadać tylko jeden pojazd).
		
		Jak stworzyć pojazd?
		- Menu z listą wszystkich pojazdów znajduje się pod klawiszem 'F1'.
		
		Jak się teleportować?
		- Pod klawiszem 'F2' znajduje się menu teleportów.
		
		Jak kupić konto VIP?
		- Pod komendą /vipinfo znajdują się wszystkie niezbędne informacje.
		
		Jak zmienić miejsce spawnu?
		- Przed śmiercią nacisnij klawisz 'F6'.
		
		Czym jest czerwone pole oznaczone na mapie?
		- Jest to tzw. Strefa Śmierci i dozwolone są w niej pojazdy takie jak Hydra,Hunter i Rhino, które znajdziesz w bazie wojskowej.
	]]
	
	helpmenu.style_chodzenia=[[
		Styl chodzenia/poruszania zmienia się za pomocą komendy /walking <id> (bez <>).
		
		MOVE_DEFAULT      0
		MOVE_PLAYER       54
		MOVE_PLAYER_F     55
		MOVE_PLAYER_M     56
		MOVE_ROCKET       57
		MOVE_ROCKET_F     58
		MOVE_ROCKET_M     59
		MOVE_ARMED        60
		MOVE_ARMED_F      61
		MOVE_ARMED_M      62
		MOVE_BBBAT        63
		MOVE_BBBAT_F      64
		MOVE_BBBAT_M      65
		MOVE_CSAW         66
		MOVE_CSAW_F       67
		MOVE_CSAW_M       68
		MOVE_SNEAK        69
		MOVE_JETPACK      70
		MOVE_MAN          118
		MOVE_SHUFFLE      119
		MOVE_OLDMAN       120
		MOVE_GANG1        121
		MOVE_GANG2        122
		MOVE_OLDFATMAN    123
		MOVE_FATMAN       124
		MOVE_JOGGER       125
		MOVE_DRUNKMAN     126
		MOVE_BLINDMAN     127
		MOVE_SWAT         128
		MOVE_WOMAN        129
		MOVE_SHOPPING     130
		MOVE_BUSYWOMAN    131
		MOVE_SEXYWOMAN    132
		MOVE_PRO          133
		MOVE_OLDWOMAN     134
		MOVE_FATWOMAN     135
		MOVE_JOGWOMAN     136
		MOVE_OLDFATWOMAN  137
		MOVE_SKATE        138
	]]
	
	helpmenu.GUI.window[1] = guiCreateWindow(0.15,0.20,0.90,0.75,"POMOC",true)
	centerWindow(helpmenu.GUI.window[1])
	
	if helpmenu.GUI.window[1] then
        guiWindowSetMovable(helpmenu.GUI.window[1],false)
        guiWindowSetSizable(helpmenu.GUI.window[1],false)
        guiSetAlpha(helpmenu.GUI.window[1],0.7)
        helpmenu.GUI.tabpanel[1] = guiCreateTabPanel(0.01,0.06,0.99,0.80,true,helpmenu.GUI.window[1])
		guiSetFont(helpmenu.GUI.tabpanel[1],"default-bold-small")
        helpmenu.GUI.tab[1] = guiCreateTab("● Wstęp",helpmenu.GUI.tabpanel[1])
		helpmenu.GUI.tab[2] = guiCreateTab("● Regulamin",helpmenu.GUI.tabpanel[1])
		helpmenu.GUI.tab[3] = guiCreateTab("● Komendy & Bindy",helpmenu.GUI.tabpanel[1])
		helpmenu.GUI.tab[4] = guiCreateTab("● Teleporty",helpmenu.GUI.tabpanel[1])
		helpmenu.GUI.tab[5] = guiCreateTab("● FAQ",helpmenu.GUI.tabpanel[1])
		helpmenu.GUI.tab[6] = guiCreateTab("● Style chodzenia/poruszania",helpmenu.GUI.tabpanel[1])
		local testFont = guiCreateFont("__fonts/capture_it.ttf",40)
		helpmenu.GUI.label[1] = guiCreateLabel(0.01,0.15,0.97,0.35,"POMOC",true,helpmenu.GUI.tab[1])
		helpmenu.GUI.label[2] = guiCreateLabel(0.01,0.04,0.97,0.35,gamever,true,helpmenu.GUI.window[1])
		guiSetAlpha(helpmenu.GUI.label[2],0.5)
		guiSetEnabled(helpmenu.GUI.label[2],false)
        guiLabelSetColor(helpmenu.GUI.label[1],0,255,255)
		guiLabelSetColor(helpmenu.GUI.label[2],222,222,222)
        guiLabelSetHorizontalAlign(helpmenu.GUI.label[1],"center",false)
		guiLabelSetHorizontalAlign(helpmenu.GUI.label[2],"right",false)
        helpmenu.GUI.memo[1] = guiCreateMemo(0.02,0.46,0.96,0.49,"Witaj "..getPlayerName(localPlayer).."!\n\nTutaj znajdziesz wiele podstawowych informacji.\nNa początek proponuje zapoznać się z Regulaminem serwera który znajduje się pod kartą 'Regulamin'.\nNastępnie zapoznaj się z Komendami i Teleportami.\n\nŻyczę miłej gry.\n\n\n",true,helpmenu.GUI.tab[1])
        helpmenu.GUI.memo[2] = guiCreateMemo(0.02,0.03,0.96,0.92,tostring(helpmenu.regulamin),true,helpmenu.GUI.tab[2])
        helpmenu.GUI.memo[3] = guiCreateMemo(0.02,0.03,0.96,0.92,tostring(helpmenu.komendy),true,helpmenu.GUI.tab[3])
        helpmenu.GUI.memo[4] = guiCreateMemo(0.02,0.03,0.96,0.92,tostring(helpmenu.teleporty),true,helpmenu.GUI.tab[4])
		helpmenu.GUI.memo[5] = guiCreateMemo(0.02,0.03,0.96,0.92,tostring(helpmenu.faq),true,helpmenu.GUI.tab[5])
		helpmenu.GUI.memo[6] = guiCreateMemo(0.02,0.03,0.96,0.92,tostring(helpmenu.style_chodzenia),true,helpmenu.GUI.tab[6])
		helpmenu.GUI.button[1] = guiCreateButton(0.01,0.89,0.99,0.08,"Zamknij",true,helpmenu.GUI.window[1])
        guiSetFont(helpmenu.GUI.label[1],testFont)
		guiSetFont(helpmenu.GUI.label[2],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[1],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[2],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[3],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[4],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[5],"default-bold-small")
		guiSetFont(helpmenu.GUI.memo[6],"default-bold-small")
		guiSetFont(helpmenu.GUI.button[1],"default-bold-small")
		guiMemoSetReadOnly(helpmenu.GUI.memo[1],true)
		guiMemoSetReadOnly(helpmenu.GUI.memo[2],true)
		guiMemoSetReadOnly(helpmenu.GUI.memo[3],true)
		guiMemoSetReadOnly(helpmenu.GUI.memo[4],true)
		guiMemoSetReadOnly(helpmenu.GUI.memo[5],true)
		addEventHandler("onClientGUIClick",helpmenu.GUI.button[1],
		function()
            guiSetVisible(helpmenu.GUI.window[1],false)
	        guiSetVisible(logowanie.GUI.image[1],false)
		    hidePlayerCursor()
		end,false)
	end
	guiSetVisible(helpmenu.GUI.window[1],false)
end)

addCommandHandler("pomoc",
function(commandName)
    guiSetVisible(logowanie.GUI.image[1],true)
    guiSetVisible(helpmenu.GUI.window[1],true)
	showCursor(true)
	guiBringToFront(logowanie.GUI.image[1])
	guiBringToFront(helpmenu.GUI.window[1])
end)
bindKey("f9","down","pomoc")

infoBox = {}
function createInfoBoxClient(x,y,text,time,textColour,boxColour,scale,font,border)
	if x and y then
		playSoundFrontEnd(1)
		if infoBox.timer and isTimer(infoBox.timer) then
			killTimer(infoBox.timer)
		end
		infoBox = {}
		if not text then text = "" end
		if not scale then scale = 2 end
		if not time then time = 3000 end
		if not font then font = "default-bold" end
		if not textColour then textColour = {r = 171,g = 171,b = 171,a = 230} end
		if not boxColour then boxColour = {r = 0,g = 0,b = 0,a = 150} end
		if not border then border = 18 end
		text = text:gsub("  "," ")
		text = text:gsub(" ","  ")
		text = text:gsub("\\n","\n")
		text = text:gsub("\n","  ")
		text = text:gsub("\r","")
		infoBox.text = escape(text)
		if text:find('<p>',1,true) then
			local s,e = text:find('<p>',1,true)
			infoBox.pages = text:sub(e+1)
			infoBox.text = text:sub(1,s-1)
		end		
		infoBox.width = 350      
		local lines = {}   
		if type(x) == "string" then
			local calculation = tostring(string.gsub(x,"drawX",tostring(drawX)))
			_,x = pcall(loadstring("return "..calculation))
		end
		if type(y) == "string" then
			local calculation = tostring(string.gsub(y,"drawY",tostring(drawY)))
			_,y = pcall(loadstring("return "..calculation))        
		end
		infoBox.border = border
		infoBox.height,lines = dxGetTextHeight(350,infoBox.text,scale,font,true)
		infoBox.x = x
		infoBox.y = y
		infoBox.textColour = textColour
		infoBox.boxColour = boxColour
		infoBox.scale = scale
		infoBox.font = font
		infoBox.time = time
		infoBox.text = ""
		for i,v in pairs(lines) do
			infoBox.text = infoBox.text .. v .. "\n"
		end    
		infoBox.timer = setTimer(
			function() 
				if infoBox.pages then
					createInfoBoxClient(infoBox.x,infoBox.y,infoBox.pages,infoBox.time,infoBox.textColour,infoBox.boxColour,infoBox.scale,infoBox.font,infoBox.border )
				else
					infoBox = {} 
				end
			end,
		time,1)
	end
end
addEvent("createInfoBoxClient",true)
addEventHandler("createInfoBoxClient",root,createInfoBoxClient)

addEvent('clientMsgBox',true)
addEventHandler('clientMsgBox',localPlayer,
function(string)
	createInfoBoxClient(20,"(drawY/5.0)*2",string,10000)
end)

addEventHandler("onClientRender",root,
function()
	if infoBox.x then
		dxDrawRectangle(infoBox.x-infoBox.border,infoBox.y-infoBox.border,infoBox.width+(infoBox.border*2),infoBox.height+(infoBox.border*2),tocolor(infoBox.boxColour.r,infoBox.boxColour.g,infoBox.boxColour.b,infoBox.boxColour.a),true)
		dxDrawText(infoBox.text,infoBox.x,infoBox.y,infoBox.x+infoBox.width,infoBox.y+infoBox.height,tocolor(infoBox.textColour.r,infoBox.textColour.g,infoBox.textColour.b,infoBox.textColour.a),infoBox.scale,infoBox.font,"left","top",false,false,true,true)
	end
end)

function escape(text)
	text = text:gsub("%%","%%%%")
	return text
end

function dxGetTextHeight(width,text,scale,font,doubleSpaced)
	local textTable = split(text,string.byte(' '))
	local breaks = {}
	local length = 0
	local line = ""
	local space = doubleSpaced and '  ' or ' '
	for i = #textTable,1,-1 do
		if textTable[i] == '' then table.remove(textTable,i) end
	end
	for i,word in pairs(textTable) do
		if i ~= #textTable then
			textTable[i] = word .. space
		end
	end
	for index,word in pairs(textTable) do
		if word ~= "." then
			local s,e = word:find(".",0,true)
			if s and e then
				textTable[index] = word:sub(0,s-1)
				table.insert(textTable,index+1,".")
				table.insert(textTable,index+2,word:sub(e+1))
			end
		end
	end	
	for index,word in pairs(textTable) do
		if word ~= "," then
			local s,e = word:find(",",0,true)
			if s and e then
				textTable[index] = word:sub(0,s-1)
				table.insert(textTable,index+1,",")
				table.insert(textTable,index+2,word:sub(e+1))
			end
		end
	end	
	
	for index,word in pairs(textTable) do
		if word ~= "-" then
			local s,e = word:find("-",0,true)
			if s and e then
				textTable[index] = word:sub(0,s-1)
				table.insert(textTable,index+1,"-")
				table.insert(textTable,index+2,word:sub(e+1))
			end
		end
	end
	for index,word in pairs(textTable) do
		if word ~= "|" then
			local s,e = word:find("|",0,true)
			if s and e then
				textTable[index] = word:sub(0,s-1)
				table.insert(textTable,index+1,"|")
				table.insert(textTable,index+2,word:sub(e+1))
			end
		end
	end	
	local index = 1
	while textTable[index] do
		local word = textTable[index]
		length = length + dxGetTextWidth(word,scale,font)
		if length > width then		
			if dxGetTextWidth(word,scale,font) > width then
				local currentLength = length - dxGetTextWidth(word,scale,font)
				local count = 0
				repeat
					count = count + 1
					length = currentLength + dxGetTextWidth(word:sub(0,-count),scale,font)
				until length < width
				local wordsection = word:sub(0,-count)
				textTable[index] = wordsection
				table.insert(textTable,index+1,word:sub(-count+1))
				table.insert(breaks,index)
				length = 0	
			else
				table.insert(breaks,index-1)
				length = dxGetTextWidth(word,scale,font)
			end
		end
		if index == #textTable then
			table.insert(breaks,index)
		end
		index = index + 1
	end
	local lines = {}
	for index,breakpoint in pairs(breaks) do
		lines[index] = ""
		for i = (index == 1 and 1 or breaks[index-1]+1),breakpoint do
			lines[index] = lines[index] .. textTable[i] --[[.. "@"]]
		end
		lines[index] = lines[index]:gsub("^[%s]*","")
	end
	local height = (dxGetFontHeight(scale,font) * #breaks) --[[+ (8 * #breaks-1)]]
	return height,lines
end

weapons_menu = {}
weapons_menu.zestawy = {
    {"Pistol / Shotgun / Uzi / AK-47"},
	{"Brass Knuckles / Silenced Pistol / Sawn-Off Shotgun / MP5 / AK-47"},
	{"Baseball Bat  / Desert Eagle / SPAZ-12 / TEC-9 / M4"},
    {"25% Armor / Nightstick / Pistol / Shotgun / Uzi / AK-47 / Country Rifle / Spraycan"},
	{"50% Armor / Katana / Silenced Pistol / Sawn-Off Shotgun / MP5 / AK-47 / Tear Gas / Country Rifle / Fire Extinguisher"},
	{"100% Armor / Chainsaw / Desert Eagle / SPAZ-12 / TEC-9 / M4 / Sniper Rifle / Grenade / Fire Extinguisher / Rocket Launcher"},
}
weapons_menu.lista = {
    [1] = {22,25,28,30},
	[2] = {1,23,26,29,30},
	[3] = {5,24,27,32,31},
    [4] = {3,22,25,28,30,33,41},
	[5] = {8,23,26,29,30,17,33,42},
	[6] = {9,24,27,32,31,34,16,42,35},
}
weapons_menu.level = {
    [1] = 0,
	[2] = 5,
	[3] = 12,
    [4] = 20,
	[5] = 25,
	[6] = 30,
}
weapons_menu.ammo = {
	[1] = 1,
	[3] = 1,
	[5] = 1,
	[8] = 1,
	[9] = 1,
	[16] = 2,
	[17] = 2,
	[22] = 50,
	[23] = 50,
	[24] = 50,
	[25] = 50,
	[26] = 50,
	[27] = 50,
	[28] = 150,
	[29] = 150,
	[30] = 165,
	[31] = 125,
	[32] = 150,
	[33] = 50,
	[34] = 25,
	[35] = 1,
	[41] = 100,
	[42] = 100,
}
weapons_menu.GUI = {
    gridlist = {},
    window = {},
    button = {},
	column = {},
}

addEventHandler("onClientResourceStart",resourceRoot,
function()
    weapons_menu.GUI.window[1] = guiCreateWindow(0.30,0.31,0.40,0.40,"WYBIERZ ZESTAW BRONI",true)
    guiWindowSetMovable(weapons_menu.GUI.window[1],false)
    guiWindowSetSizable(weapons_menu.GUI.window[1],false)
    weapons_menu.GUI.gridlist[1] = guiCreateGridList(0.02,0.10,0.96,0.74,true,weapons_menu.GUI.window[1])
    weapons_menu.GUI.button[1] = guiCreateButton(0.02,0.87,0.96,0.10,"OK",true,weapons_menu.GUI.window[1])
	weapons_menu.GUI.column[1] = guiGridListAddColumn(weapons_menu.GUI.gridlist[1],"Zestaw",0.1)
	weapons_menu.GUI.column[2] = guiGridListAddColumn(weapons_menu.GUI.gridlist[1],"Bronie",1.95)
	for i,v in pairs(weapons_menu.zestawy) do
	    local row = guiGridListAddRow(weapons_menu.GUI.gridlist[1])
		guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[1],tostring(i),false,false)
		guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[2],tostring(v[1]),false,false)
	end
	guiSetProperty(weapons_menu.GUI.button[1],"NormalTextColour","FFAAAAAA")
	guiSetAlpha(weapons_menu.GUI.window[1],0.65)
	guiSetVisible(weapons_menu.GUI.window[1],false)
	guiSetFont(weapons_menu.GUI.gridlist[1],"default-bold-small")
	guiSetFont(weapons_menu.GUI.button[1],"default-bold-small")
	guiGridListSetSortingEnabled(weapons_menu.GUI.gridlist[1],false)
	addEventHandler("onClientGUIClick",weapons_menu.GUI.button[1],
	function()
		local playerLevel = getElementData(localPlayer,".LVL")
		local selectedRow,selectedCol = guiGridListGetSelectedItem(weapons_menu.GUI.gridlist[1])
		if not selectedRow then return end
		local wybranyZestaw = selectedRow+1
	    if wybranyZestaw and playerLevel then
			if playerLevel >= weapons_menu.level[wybranyZestaw] then
				local weaponsTable = weapons_menu.lista[wybranyZestaw]
				for i,v in pairs(weaponsTable) do
					triggerServerEvent("Server:GivePlayerWeapon",resourceRoot,{v,weapons_menu.ammo[v]})
				end
				guiSetVisible(weapons_menu.GUI.window[1],false)
				hidePlayerCursor()
				if wybranyZestaw == 4 then triggerServerEvent("Server:setPedArmor",resourceRoot,25) end
				if wybranyZestaw == 5 then triggerServerEvent("Server:setPedArmor",resourceRoot,50) end
				if wybranyZestaw == 6 then triggerServerEvent("Server:setPedArmor",resourceRoot,100) end
			else
				outputChatBox("● INFO: Ten zestaw dostępny jest od ("..weapons_menu.level[wybranyZestaw]..") poziomu.",255,0,0)
			end
	    end
	end,false)
end)

function updateWeaponGridList()
	guiGridListClear(weapons_menu.GUI.gridlist[1])
	local playerLevel = getElementData(localPlayer,".LVL")
	for i,v in pairs(weapons_menu.zestawy) do
		local row = guiGridListAddRow(weapons_menu.GUI.gridlist[1])
		if playerLevel >= weapons_menu.level[i] then
			guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[1],tostring(i),false,false)
			guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[2],tostring(v[1]),false,false)
		else
			guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[1],tostring(i),false,false)
			guiGridListSetItemText(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[2],tostring("(Level "..weapons_menu.level[i]..") "..v[1]),false,false)
			guiGridListSetItemColor(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[1],255,0,0,255)
			guiGridListSetItemColor(weapons_menu.GUI.gridlist[1],row,weapons_menu.GUI.column[2],255,0,0,255)
		end
	end
end

addEventHandler("onClientPlayerSpawn",localPlayer,
function()
	updateWeaponGridList()
end)

local duel = {}
duel.weapons = {
    "colt 45",
	"silenced",
	"deagle",
	"shotgun",
	"sawed-off",
	"combat shotgun",
	"uzi",
	"mp5",
	"ak-47",
	"m4",
	"tec-9",
	"rifle",
	"sniper",
	"rocket launcher",
	"rocket launcher hs",
}
duel.GUI = {
    button = {},
    window = {},
    label = {},
	gridlist = {},
	column = {},
}

addEventHandler("onClientResourceStart",resourceRoot,
function()
    duel.GUI.window[1] = guiCreateWindow(drawX/2-205,drawY/2-108,413,135,"POJEDYNEK SOLO",false)
    guiWindowSetSizable(duel.GUI.window[1],false)
    duel.GUI.label[1] = guiCreateLabel(0.02,0.16,0.96,0.43,"",true,duel.GUI.window[1])
    guiLabelSetHorizontalAlign(duel.GUI.label[1],"center",false)
    guiLabelSetVerticalAlign(duel.GUI.label[1],"center")
    duel.GUI.button[1] = guiCreateButton(0.10,0.64,0.36,0.25,"Akceptuj",true,duel.GUI.window[1])
	duel.GUI.button[2] = guiCreateButton(0.51,0.64,0.36,0.25,"Odrzuć",true,duel.GUI.window[1])
    guiSetFont(duel.GUI.button[1],"default-bold-small")
    guiSetFont(duel.GUI.label[1],"default-bold-small")
    guiSetFont(duel.GUI.button[2],"default-bold-small")
	guiSetProperty(duel.GUI.button[1],"NormalTextColour","FF0BFE00")
    guiSetProperty(duel.GUI.button[2],"NormalTextColour","FFFD0000")
	guiSetVisible(duel.GUI.window[1],false)
	addEventHandler("onClientGUIClick",duel.GUI.button[1],
	function()
	    if duel.invitingPlayer and duel.invitingWeapon then
		    triggerServerEvent("onPlayerDuelRequest",resourceRoot,{duel.invitingPlayer,duel.invitingWeapon,true})
	        guiSetVisible(duel.GUI.window[1],false)
		    hidePlayerCursor()
		end
	end,false)
	addEventHandler("onClientGUIClick",duel.GUI.button[2],
	function()
	    triggerServerEvent("onPlayerDuelRequest",resourceRoot,{duel.invitingPlayer,duel.invitingWeapon,false})
	    guiSetVisible(duel.GUI.window[1],false)
		hidePlayerCursor()
	end,false)
    duel.GUI.window[2] = guiCreateWindow(drawX/2-431,drawY/2-178,222,269,"WYBIERZ BROŃ",false)
    guiWindowSetSizable(duel.GUI.window[2],false)
    duel.GUI.gridlist[1] = guiCreateGridList(0.05,0.11,0.91,0.67,true,duel.GUI.window[2])
	duel.GUI.column[1] = guiGridListAddColumn(duel.GUI.gridlist[1],"",0.6)
	for i,v in pairs(duel.weapons) do
	    local row = guiGridListAddRow(duel.GUI.gridlist[1])
		guiGridListSetItemText(duel.GUI.gridlist[1],row,duel.GUI.column[1],tostring(v),false,false)
	end
    duel.GUI.button[3] = guiCreateButton(0.04,0.78,0.91,0.08,"OK",true,duel.GUI.window[2])
    duel.GUI.button[4] = guiCreateButton(0.04,0.88,0.91,0.08,"Anuluj",true,duel.GUI.window[2])
	centerWindow(duel.GUI.window[2])
	guiSetVisible(duel.GUI.window[2],false)
	addEventHandler("onClientGUIClick",duel.GUI.button[3],
	function()
	    local weaponName = guiGridListGetItemText(duel.GUI.gridlist[1],guiGridListGetSelectedItem(duel.GUI.gridlist[1]),1)
		if weaponName ~= "" and weaponName then
		    if duel.recipentPlayer then
			    triggerServerEvent("invitePlayerDuel",resourceRoot,{duel.recipentPlayer,weaponName})
	            guiSetVisible(duel.GUI.window[2],false)
		        hidePlayerCursor()
			end
		end
	end,false)
	addEventHandler("onClientGUIClick",duel.GUI.button[4],
	function()
	    guiSetVisible(duel.GUI.window[2],false)
		hidePlayerCursor()
	end,false)
	if duel.GUI.window[2] then guiGridListSetSortingEnabled(duel.GUI.window[2],false) end
end)

addEvent("setupDuelWeapon",true)
addEventHandler("setupDuelWeapon",localPlayer,
function(playerID)
    duel.recipentPlayer = playerID
    guiSetVisible(duel.GUI.window[2],true)
	showCursor(true)
end)

addEvent("setupDuelRequest",true)
addEventHandler("setupDuelRequest",localPlayer,
function(table)
	local playerSource,weaponName = table[1],table[2]
    duel.invitingPlayer = playerSource
	duel.invitingWeapon = getWeaponIDFromName(weaponName)
    guiSetVisible(duel.GUI.window[1],true)
	showCursor(true)
	guiSetText(duel.GUI.label[1],"Otrzymałeś/aś zaproszenie na pojedynek od ("..getPlayerName(playerSource)..").\nNa broń ("..weaponName..")\nKliknij 'Akceptuj' jesli się zgadzasz.")
end)

addEvent("onClientPlayerDuelStart",true)
addEventHandler("onClientPlayerDuelStart",localPlayer,
function()
    fadeCamera(false,0.01)
	setTimer(fadeCamera,500,1,true)
end)

local g_bVehicles = {[464] = true,[592] = true,[577] = true,[425] = true,[520] = true,[432] = true,[449] = true,[537] = true,[538] = true,[570] = true,[569] = true,[590] = true}
function isClientInVeh(d)
	if not d then
		hideAllGUI()
		hidePlayerCursor()
	end
	local vehicle = getPedOccupiedVehicle(localPlayer)
	if not vehicle then return end
	if getVehicleController(vehicle) == localPlayer and not g_bVehicles[getElementModel(vehicle)] then
		setPedCanBeKnockedOffBike(localPlayer,false)
		setTimer(setPedCanBeKnockedOffBike,2100,1,localPlayer,true)
	    setElementFrozen(vehicle,true)
		setTimer(setElementFrozen,1000,1,vehicle,false)
	else
	    triggerServerEvent("removeClientFromVehicle",resourceRoot)
	end
end

local lastTeleport = getTickCount() - 5000
addEvent("Client:LoadPos",true)
addEventHandler("Client:LoadPos",localPlayer,
function(table)
	local x,y,z,int,dim = table[1],table[2],table[3],table[4],table[5]
	if getPlayerTeam(localPlayer) == getTeamFromName("Jail") then return end
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - lastTeleport < 5000 then outputChatBox("● INFO: Musisz odczekać "..math.floor((6000-(getTickCount()-lastTeleport))/1000).."s.",255,0,0) return end
	    isClientInVeh(true)
		--[[fadeCamera(false,0.2)]]
		setTimer(function()
            --[[local vehicle = getPedOccupiedVehicle(localPlayer)
	        if vehicle and getVehicleController(vehicle) == localPlayer then
	        	setElementPosition(vehicle,x,y,z)
	        else
	        	setElementPosition(localPlayer,x,y,z)
	        end
		    if int then triggerServerEvent("fixElementInterior",resourceRoot,int) end
			if dim then triggerServerEvent("fixElementDimension",resourceRoot,dim) end
			fadeCamera(true)]]
			triggerServerEvent("Server:ChangePlayerPosition",resourceRoot,{x,y,z,int,dim})
		end,50,1)
	end
	lastTeleport = getTickCount()
end)

function changePlayerPosition(thePlayer,posX,posY,posZ)
	if getPlayerTeam(thePlayer) == getTeamFromName("Jail") then return end
	if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
	if getElementData(thePlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - lastTeleport < 5000 then outputChatBox("● INFO: Musisz odczekać "..math.floor((6000-(getTickCount()-lastTeleport))/1000).."s.",255,0,0) return end
		isClientInVeh()
		--[[fadeCamera(false,0.2)]]
		setTimer(function()
           --[[local theVehicle = getPedOccupiedVehicle(thePlayer)
	        if theVehicle then
	        	setElementPosition(theVehicle,posX,posY,posZ)
	        else
	        	setElementPosition(thePlayer,posX,posY,posZ)
	        end
			fadeCamera(true)]]
			triggerServerEvent("Server:ChangePlayerPosition",resourceRoot,{posX,posY,posZ,0,0})
		end,50,1)
	end
	lastTeleport = getTickCount()
end

addCommandHandler("tunels",
function(commandName)
	changePlayerPosition(localPlayer,2650.5390625,-2004.447265625,13.3828125)
end)

addCommandHandler("starelotnisko",
function(commandName)
	changePlayerPosition(localPlayer,387.2001953125,2535.705078125,16.5390625)
end)

addCommandHandler("tama",
function(commandName)
	changePlayerPosition(localPlayer,-902.96875,1993.513671875,60.9140625)
end)

addCommandHandler("tunesf",
function(commandName)
	changePlayerPosition(localPlayer,-2678.9580078125,217.720703125,4.1796875)
end)

addCommandHandler("sf",
function(commandName)
	changePlayerPosition(localPlayer,-1982.11328125,288.388671875,34.993591308594)
end)

addCommandHandler("sflot",
function(commandName)
	changePlayerPosition(localPlayer,-1351.064453125,-222.228515625,14.1484375)
end)

addCommandHandler("gora",
function(commandName)
	changePlayerPosition(localPlayer,2257.98046875,-1708.193359375,479.7646484375)
end)

addCommandHandler("cj",
function(commandName)
	changePlayerPosition(localPlayer,2497.5546875,-1664.9892578125,13.34375)
end)

addCommandHandler("skate",
function(commandName)
	changePlayerPosition(localPlayer,1903.4912109375,-1363.517578125,13.528833389282)
end)

addCommandHandler("lslot",
function(commandName)
	changePlayerPosition(localPlayer,1646.7861328125,-2415.873046875,13.5546875)
end)

addCommandHandler("ls",
function(commandName)
	changePlayerPosition(localPlayer,1791.2294921875,-1924.9755859375,13.39013671875)
end)

addCommandHandler("lvlot",
function(commandName)
	changePlayerPosition(localPlayer,1676.587890625,1623.5576171875,10.8203125)
end)

addCommandHandler("parking",
function(commandName)
	changePlayerPosition(localPlayer,2326.8828125,1402.6220703125,42.8203125)
end)

addCommandHandler("tram",
function(commandName)
	changePlayerPosition(localPlayer,2767.5126953125,1743.185546875,10.8203125)
end)

addCommandHandler("dworzec",
function(commandName)
	changePlayerPosition(localPlayer,2848.5791015625,1290.814453125,11.390625)
end)

addCommandHandler("molo",
function(commandName)
	changePlayerPosition(localPlayer,2359.8935546875,536.4912109375,1.796875)
end)

addCommandHandler("tunelv",
function(commandName)
	changePlayerPosition(localPlayer,2386.580078125,1013.400390625,10.8203125)
end)

addCommandHandler("lv",
function(commandName)
	changePlayerPosition(localPlayer,2153.1796875,1044.7041015625,10.8203125)
	exports.hud_messages:showBox("test", 0, 153, 0, 5)
end)

addCommandHandler("test",
function(commandName)
	changePlayerPosition(localPlayer,391.13,-2088.80,7.84)
end)

addCommandHandler("bank",
function(commandName)
	changePlayerPosition(localPlayer,2181.5517578125,1991.6728515625,10.8203125)
end)

addCommandHandler("stuntpark",
function(commandName)
	changePlayerPosition(localPlayer,-3911.5,-1155.6999511719,18.60000038147)
end)

addCommandHandler("arena",
function(commandName)
    local sArena = {
        {1410.4597167969,1486.5863037109,691.67657470703},
	    {1457.7175292969,1486.6243896484,691.67657470703},
	    {1454.9001464844,1439.8040771484,691.67657470703},
	    {1411.3005371094,1440.4427490234,691.67657470703},
	    {1434.4870605469,1469.6790771484,691.67657470703},
    }
	local pRandomTp = math.random(1,#sArena)
	changePlayerPosition(localPlayer,sArena[pRandomTp][1],sArena[pRandomTp][2],sArena[pRandomTp][3])
end)

local teleporty = {}
teleporty.lista = {"Stunt Park","Arena","Las Venturas","Los Santos","San Fierro","Tuning LV","Tuning LS","Tuning SF","Lotnisko LV","Lotnisko LS","Lotnisko SF","Stare Lotnisko","Tama","Góra","Dom CJ","Skatepark","Parking LV","Tram","Dworzec","Molo","Bank"}
teleporty.komendy = {
    ["Stunt Park"] = "stuntpark",
    ["Arena"] = "arena",
	["Las Venturas"] = "lv",
	["Los Santos"] = "ls",
	["San Fierro"] = "sf",
	["Tuning LV"] = "tunelv",
	["Tuning LS"] = "tunels",
	["Tuning SF"] = "tunesf",
	["Lotnisko LV"] = "lvlot",
	["Lotnisko LS"] = "lslot",
	["Lotnisko SF"] = "sflot",
	["Stare Lotnisko"] = "starelotnisko",
	["Tama"] = "tama",
	["Góra"] = "gora",
	["Dom CJ"] = "cj",
	["Skatepark"] = "skate",
	["Parking LV"] = "parking",
	["Tram"] = "tram",
	["Dworzec"] = "dworzec",
	["Molo"] = "molo",
	["Bank"] = "bank",
}
teleporty.GUI = {
    gridlist = {},
    window = {},
    button = {},
	column = {},
}

addEventHandler("onClientResourceStart",resourceRoot,
function()
    teleporty.GUI.window[1] = guiCreateWindow(drawX/2-120,drawY/2-179,227,296,"TELEPORTY",false)
    guiWindowSetSizable(teleporty.GUI.window[1],false)
    guiSetAlpha(teleporty.GUI.window[1],0.70)
	teleporty.GUI.gridlist[1] = guiCreateGridList(0.03,0.07,0.94,0.81,true,teleporty.GUI.window[1])
    teleporty.GUI.button[1] = guiCreateButton(0.03,0.91,0.94,0.07,"Anuluj",true,teleporty.GUI.window[1])
	teleporty.GUI.column[1] = guiGridListAddColumn(teleporty.GUI.gridlist[1],"Teleporty",0.5)
	for i,v in pairs(teleporty.lista) do
	    local row = guiGridListAddRow(teleporty.GUI.gridlist[1])
		guiGridListSetItemText(teleporty.GUI.gridlist[1],row,teleporty.GUI.column[1],tostring(v),false,false)
	end
	guiSetFont(teleporty.GUI.gridlist[1],"default-bold-small")
	guiSetFont(teleporty.GUI.button[1],"default-bold-small")
	addEventHandler("onClientGUIClick",teleporty.GUI.button[1],
	function()
	    guiSetVisible(teleporty.GUI.window[1],false)
		hidePlayerCursor()
	end,false)
	addEventHandler("onClientGUIDoubleClick",teleporty.GUI.gridlist[1],
	function()
	    local selectedRow,selectedCol = guiGridListGetSelectedItem(teleporty.GUI.gridlist[1])
		local teleportName = guiGridListGetItemText(teleporty.GUI.gridlist[1],selectedRow,selectedCol)
		if teleportName then
			guiSetVisible(teleporty.GUI.window[1],false)
			hidePlayerCursor()
			executeCommandHandler(teleporty.komendy[teleportName])
		end
	end,false)
	guiSetVisible(teleporty.GUI.window[1],false)
	guiGridListSetSortingEnabled(teleporty.GUI.gridlist[1],false)
end)

addCommandHandler("teleporty",
function(_)
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
        guiSetVisible(teleporty.GUI.window[1],true)
	    showCursor(true)
	end
end)
bindKey("f2","down","teleporty")

function isPedAiming(thePedToCheck)
	if isElement(thePedToCheck) then
		if getElementType(thePedToCheck) == "player" or getElementType(thePedToCheck) == "ped" then
			if getPedTask(thePedToCheck,"secondary",0) == "TASK_SIMPLE_USE_GUN" then
				return true
			end
		end
	end
	return false
end

local scoreboard = {}
scoreboard.GUI = {
    gridlist = {},
    window = {},
	column = {},
	row = {},
}
scoreboard.playersRow = {}

addEventHandler("onClientResourceStart",resourceRoot,
function()
    scoreboard.GUI.window[1] = guiCreateWindow(222,222,550,420,"TABLICA WYNIKÓW (ILOŚĆ GRACZY: )",false)
    scoreboard.GUI.gridlist[1] = guiCreateGridList(0.01,0.07,0.97,0.91,true,scoreboard.GUI.window[1])
	scoreboard.GUI.column[1] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"ID",0.06)
	scoreboard.GUI.column[2] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Nick",0.25)
	scoreboard.GUI.column[3] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"FPS",0.05)
	scoreboard.GUI.column[4] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Kills",0.1)
	scoreboard.GUI.column[5] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Level",0.1)
	scoreboard.GUI.column[6] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Money",0.15)
	scoreboard.GUI.column[7] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Gang",0.17)
	scoreboard.GUI.column[8] = guiGridListAddColumn(scoreboard.GUI.gridlist[1],"Ping",0.05)
	guiWindowSetMovable(scoreboard.GUI.window[1],false)
	guiWindowSetSizable(scoreboard.GUI.window[1],false)
	centerWindow(scoreboard.GUI.window[1])
	guiSetAlpha(scoreboard.GUI.window[1],0.75)
	guiGridListSetSortingEnabled(scoreboard.GUI.gridlist[1],false)
	guiSetVisible(scoreboard.GUI.window[1],false)
	bindKey("tab","both",toggleScoreboard)
	guiBringToFront(scoreboard.GUI.window[1])
	guiSetFont(scoreboard.GUI.gridlist[1],"default-bold-small")
end)

function scoreboardRefresh()
	local __playersTable = getElementsByType("player")
	guiSetText(scoreboard.GUI.window[1],"TABLICA WYNIKÓW (ILOŚĆ GRACZY: "..#__playersTable..")")
	if guiGetVisible(scoreboard.GUI.window[1]) == true then
		for i,thePlayer in pairs(__playersTable) do
			local id = getElementData(thePlayer,"ID") or "-"
			local name = removeHEXFromString(getPlayerName(thePlayer))
			local fps = getElementData(thePlayer,"FPS") or "-"
			local kills = getElementData(thePlayer,"Kills") or "-"
			local deaths = getElementData(thePlayer,".LVL") or "-"
			local money = getElementData(thePlayer,"Money") or "-"
			local gang = getElementData(thePlayer,"Gang") or "-"
			local r,g,b = getPlayerNametagColor(thePlayer)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[1],tostring(id),true,true)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[2],tostring(name),true,false)
			guiGridListSetItemColor(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[2],r,g,b,255)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[3],tostring(fps),true,false)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[4],tostring(kills),true,false)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[5],tostring(deaths),true,false)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[6],tostring(money),true,false)
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[7],tostring(gang),true,false)
			local ping
			if getPlayerPing(thePlayer) > 999 then ping = 999 else ping = getPlayerPing(thePlayer) end
			guiGridListSetItemText(scoreboard.GUI.gridlist[1],scoreboard.playersRow[thePlayer],scoreboard.GUI.column[8],tostring(ping),true,false)
		end
	end
end

function toggleScoreboard(key,keyState)
    if keyState == "down" then
	    guiSetVisible(scoreboard.GUI.window[1],true)
		--showCursor(true)
		guiGridListClear(scoreboard.GUI.gridlist[1])
		local __playersTable = getElementsByType("player")
		local __playerIDs = {}
		for i,v in pairs(__playersTable) do
		    if v ~= localPlayer then
				local id = getElementData(v,"ID")
				if id then table.insert(__playerIDs,id) end
			end
		end
		table.sort(__playerIDs,function(a,b) return string.lower(a) < string.lower(b) end)
		if localPlayer then
		    scoreboard.playersRow[localPlayer] = nil
		    scoreboard.playersRow[localPlayer] = guiGridListAddRow(scoreboard.GUI.gridlist[1])
		end
		for _,v in pairs(__playerIDs) do
		    local plr = getPlayerByID(v)
		    scoreboard.playersRow[plr] = nil
		    scoreboard.playersRow[plr] = guiGridListAddRow(scoreboard.GUI.gridlist[1])
		end
		guiBringToFront(scoreboard.GUI.window[1])
	else
	    guiSetVisible(scoreboard.GUI.window[1],false)
		--hidePlayerCursor()
	end
end

function toggleScoreboardCursor(key,keyState)
    if keyState == "down" then
	    if guiGetVisible(scoreboard.GUI.window[1]) == false then return end
	    showCursor(true)
	else
	    hidePlayerCursor()
	end
end
bindKey("mouse2","both",toggleScoreboardCursor)

addEventHandler("onClientPlayerWasted",localPlayer,
function()
	if source == localPlayer then
		setGameSpeed(0.1)
		setTimer(setGameSpeed,1000,1,1)
		if pTimer and isTimer(pTimer) then
			killTimer(pTimer)
			pTimer = nil
		end
		hideAllGUI()
		hidePlayerCursor()
		fadeCamera(false,5.0)
	end
end)

function hidePlayerCursor()
	for _,guiElement in ipairs(getElementChildren(guiRoot)) do
	    if guiGetEnabled(guiElement) ~= false and guiElement ~= scoreboard.GUI.window[1] and guiElement ~= podmianki.GUI.window[2] and guiGetVisible(guiElement) ~= false then
		    return
		end
	end
	showCursor(false)
end

function hideAllGUI()
    if logowanie.GUI.image[1] then guiSetVisible(logowanie.GUI.image[1],false) end
	for _,guiElement in ipairs(getElementChildren(guiRoot)) do
	    if guiGetEnabled(guiElement) ~= false then
		    guiSetVisible(guiElement,false)
		end
	end
	hidePlayerCursor()
end

addEvent("hideGuiElements",true)
addEventHandler("hideGuiElements",localPlayer,
function()
	hideAllGUI()
end)

function centerWindow(center_window)
    local screenW,screenH = guiGetScreenSize()
    local windowW,windowH = guiGetSize(center_window,false)
    local x,y = (screenW-windowW)/2,(screenH-windowH)/2
    guiSetPosition(center_window,x,y,false)
end

local vehspawn = {}
vehspawn.types = {
    "Samoloty",
	"Helikoptery",
    "Motory",
	"Rowery",
	"Łodzie",
	"Samochody",
}
vehspawn.idlist = {
    ["Samoloty"] = {520,592,577,511,512,593,553,476,519,460,513},
	["Helikoptery"] = {548,425,417,487,488,497,563,447,469},
    ["Motory"] = {581,462,521,463,522,461,468,448,586},
	["Rowery"] = {509,481,510},
	["Łodzie"] = {472,473,493,595,484,430,453,452,446,454},
	["Samochody"] = {602,496,401,518,527,589,419,533,526,474,545,517,410,600,436,580,439,549,491,445,604,507,585,587,466,492,546,551,516,467,426,547,405,409,550,566,540,421,529,485,552,431,438,437,574,420,525,408,416,433,427,490,528,407,544,523,470,598,596,597,599,432,601,428,499,609,498,524,532,578,486,406,573,455,588,403,514,423,414,443,515,531,456,459,422,482,605,530,418,572,582,413,440,543,583,478,554,536,575,534,567,535,576,412,402,542,603,475,568,424,504,457,483,508,571,500,444,556,557,471,495,539,429,541,415,480,562,565,434,494,502,503,411,559,561,560,506,451,558,555,477},
}
vehspawn.GUI = {
    gridlist = {},
    window = {},
    button = {},
	column = {},
}

addEventHandler("onClientResourceStart",resourceRoot,
function()
    vehspawn.GUI.window[1] = guiCreateWindow(drawX/2-472,drawY/2-241,413,331,"SPAWN POJAZDÓW",false)
    guiWindowSetSizable(vehspawn.GUI.window[1],false)
    vehspawn.GUI.gridlist[1] = guiCreateGridList(0.02,0.07,0.46,0.75,true,vehspawn.GUI.window[1])
    vehspawn.GUI.gridlist[2] = guiCreateGridList(0.51,0.07,0.46,0.75,true,vehspawn.GUI.window[1])
	vehspawn.GUI.column[1] = guiGridListAddColumn(vehspawn.GUI.gridlist[1],"",0.8)
	vehspawn.GUI.column[2] = guiGridListAddColumn(vehspawn.GUI.gridlist[2],"",0.8)
    vehspawn.GUI.button[1] = guiCreateButton(0.01,0.82,0.95,0.07,"OK",true,vehspawn.GUI.window[1])
	vehspawn.GUI.button[2] = guiCreateButton(0.01,0.90,0.95,0.07,"Anuluj",true,vehspawn.GUI.window[1])
	addEventHandler("onClientGUIClick",vehspawn.GUI.button[1],
	function()
        local selectedRow,selectedCol = guiGridListGetSelectedItem(vehspawn.GUI.gridlist[2])
	    local vehicleName = guiGridListGetItemText(vehspawn.GUI.gridlist[2],selectedRow,selectedCol)
		if vehicleName and vehicleName ~= "" then
		    --triggerServerEvent("Server:CreateVehicle",resourceRoot,tonumber(getVehicleModelFromName(vehicleName)))
			cCreateVehicle(vehicleName)
		end
	end,false)
	addEventHandler("onClientGUIDoubleClick",vehspawn.GUI.gridlist[2],
	function()
        local selectedRow,selectedCol = guiGridListGetSelectedItem(vehspawn.GUI.gridlist[2])
	    local vehicleName = guiGridListGetItemText(vehspawn.GUI.gridlist[2],selectedRow,selectedCol)
		if vehicleName and vehicleName ~= "" then
		    --triggerServerEvent("Server:CreateVehicle",resourceRoot,tonumber(getVehicleModelFromName(vehicleName)))
			cCreateVehicle(vehicleName)
		end
	end,false)
	addEventHandler("onClientGUIClick",vehspawn.GUI.button[2],
	function()
	    guiSetVisible(vehspawn.GUI.window[1],false)
		hidePlayerCursor()
	end,false)
    centerWindow(vehspawn.GUI.window[1])
    guiSetVisible(vehspawn.GUI.window[1],false)
	for i,v in pairs(vehspawn.types) do
	    local row = guiGridListAddRow(vehspawn.GUI.gridlist[1])
		guiGridListSetItemText(vehspawn.GUI.gridlist[1],row,vehspawn.GUI.column[1],v,false,false)
	end
	addEventHandler("onClientGUIClick",vehspawn.GUI.gridlist[1],
	function()
	    guiGridListClear(vehspawn.GUI.gridlist[2])
        local selectedRow,selectedCol = guiGridListGetSelectedItem(vehspawn.GUI.gridlist[1])
	    local type = guiGridListGetItemText(vehspawn.GUI.gridlist[1],selectedRow,selectedCol)
		if type and type ~= "" then 
			for i,v in pairs(vehspawn.idlist[type]) do
			    local row = guiGridListAddRow(vehspawn.GUI.gridlist[2])
				guiGridListSetItemText(vehspawn.GUI.gridlist[2],row,vehspawn.GUI.column[2],tostring(getVehicleNameFromModel(v)),false,false)
			end
		end
	end,false)
	guiSetFont(vehspawn.GUI.gridlist[1],"default-bold-small")
	guiSetFont(vehspawn.GUI.gridlist[2],"default-bold-small")
	guiSetFont(vehspawn.GUI.button[1],"default-bold-small")
	guiSetFont(vehspawn.GUI.button[2],"default-bold-small")
	guiGridListSetSortingEnabled(vehspawn.GUI.gridlist[1],false)
	guiGridListSetSortingEnabled(vehspawn.GUI.gridlist[2],false)
end)

local lastCreateVehicle = getTickCount() - 10000
function cCreateVehicle(vehicleName)
    if getTickCount() - lastCreateVehicle < 10000 then outputChatBox("● INFO: Musisz odczekać "..math.floor((11000-(getTickCount()-lastCreateVehicle))/1000).."s.",255,0,0) return end
	triggerServerEvent("Server:CreateVehicle",resourceRoot,tonumber(getVehicleModelFromName(vehicleName)))
	lastCreateVehicle = getTickCount()
end

addCommandHandler("veh",
function(_)
    if getElementData(localPlayer,"pCommands") ~= false then
        guiSetVisible(vehspawn.GUI.window[1],true)
	    showCursor(true)
	end
end)
bindKey("f1","down","veh")

local lastJoin = getTickCount()

addCommandHandler("playtime",
function(cmd)
	outputChatBox(tostring("● INFO: Czas gry: "..formatTime(getTickCount() - lastJoin)),0,255,255)
end)

function formatTime(milliseconds)
    local totalseconds = math.floor(milliseconds/1000)
    local seconds = totalseconds % 60
    local minutes = math.floor(totalseconds/60)
    local hours = math.floor(minutes/60)
    minutes = minutes % 60
    hours = hours % 24
    return string.format("%02d:%02d:%02d",hours,minutes,seconds)
end

function getPlayerPlayTime()
	return formatTime(getTickCount() - lastJoin)
end

local exprequired = {
	[1] = 25,
	[2] = 50,
	[3] = 100,
	[4] = 250,
	[5] = 500,
	[6] = 750,
	[7] = 1000,
	[8] = 1250,
	[9] = 1500,
	[10] = 1750,
	[11] = 2000,
	[12] = 3000,
	[13] = 4000,
	[14] = 5000,
	[15] = 6000,
	[16] = 7000,
	[17] = 8000,
	[18] = 9000,
	[19] = 10000,
	[20] = 12500,
	[21] = 15000,
	[22] = 17500,
	[23] = 20000,
	[24] = 30000,
	[25] = 40000,
	[26] = 50000,
	[27] = 60000,
	[28] = 70000,
	[29] = 80000,
	[30] = 90000,
	[31] = 100000,
	[32] = 200000,
	[33] = 300000,
	[34] = 400000,
	[35] = 500000,
	[36] = 600000,
	[37] = 700000,
	[38] = 800000,
	[39] = 900000,
	[40] = 1000000,
}

addEventHandler("onClientRender",root,
function()
	if not starttick then
		starttick = getTickCount()
	end
	counter = counter + 1
	currenttick = getTickCount()
	if currenttick - starttick>=1000 then
		setElementData(localPlayer,"FPS",counter)
		counter = 0
		starttick = false
	end
	
end)

function getPlayerByID(theID)
	local p
	for i,v in pairs(getElementsByType("player")) do
		local thePlayerID = getElementData(v,"ID")
		if thePlayerID then
			if tonumber(thePlayerID) == tonumber(theID) then
				p = v
				return p
			end
		end
	end
	return false
end

addEventHandler("onClientPlayerSpawn",localPlayer,
function(hisTeam)
	if isTimer(cDamageTimer) then
	    killTimer(cDamageTimer)
	    cDamageTimer = nil
	end
	hidePlayerCursor()
	--[[if hisTeam then return end
	setElementData(localPlayer,"pCommands",true)
	setElementData(localPlayer,"pTeleporty",true)]]
end)

local isChatVisible = true
function toggleChat(key,keyState)
    if isChatVisible then
        showChat(false)
        isChatVisible = false
    else
        showChat(true)
        isChatVisible = true
    end
end
bindKey("f7","down",toggleChat)

local ping_kicker = {}
ping_kicker.p_limit = 400
ping_kicker.w_limit = 3
ping_kicker.w = 0
setTimer(function()
    if guiGetVisible(podmianki.GUI.window[2]) == true then return end
	local g_Ping = getPlayerPing(localPlayer)
	if g_Ping > ping_kicker.p_limit then
		if ping_kicker.w == ping_kicker.w_limit then
			
		return end
	    ping_kicker.w = ping_kicker.w+1
	end
end,10000,0)

podmianki = {}
podmianki.GUI = {
    button = {},
    window = {},
    label = {}
}
podmianki.pojazdy = {
    {"infernus",411},
	{"pcj600",461},
	{"nrg500",522},
	{"monster",557},
	{"hydra",520},
	
}
podmianki.bronie = {
    {"ak47",355},
	{"chromegun",349},
	{"colt45",346},
	{"desert_eagle",348},
	{"grenade",342},
	{"m4",356},
	{"micro_uzi",352},
	{"mp5lng",353},
	{"sawnoff",350},
	{"shotgspa",351},
	{"silenced",347},
	{"sniper",358},
	{"tec9",372},
}
podmianki.skiny = {
	{1},{2},{7},{9},{10},{11},{12},{13},{14},{15},{16},{17},{18},{19},{20},
	{23},{24},{25},{26},{27},{28},--[[{29},]]{30},{31},{32},{33},{34},{35},
	{36},{37},{39},{43},--[[{44},]]{45},{46},{47},{48},{49},{50},{51},{52},{54},{55},
	{56},{57},{58},{59},{60},{63},{69},{77},{78},--[[{79},]]--[[{84},]]--[[{85},]]
	--[[{87},]]--[[{94},]]{95},{96},{97},{98},{100},{101},{102},{103},{104},
	{105},{106},{107},{108},{109},{110},{114},{140},--[[{141},]]{142},{143},{163},{260},{292},{299},
	--[[{274},]]--[[{275},]]--[[{276},]]
}

addEventHandler("onClientResourceStart",resourceRoot,
function()
	podmianki.GUI.window[1] = guiCreateWindow(559,314,265,120,"PODMIANKI",false)
	guiSetAlpha(podmianki.GUI.window[1],0.6)
	guiWindowSetSizable(podmianki.GUI.window[1],false)
	podmianki.GUI.label[1] = guiCreateLabel(0.02,0.20,0.97,0.42,"Czy chcesz zainstalować podmianki?\nZa pierwszym razem będziesz musiał(a) \npobrać około 70,0 MB",true,podmianki.GUI.window[1])
	podmianki.GUI.button[1] = guiCreateButton(0.03,0.66,0.45,0.26,"TAK",true,podmianki.GUI.window[1])
	podmianki.GUI.button[2] = guiCreateButton(0.51,0.66,0.45,0.26,"NIE",true,podmianki.GUI.window[1])
	guiSetFont(podmianki.GUI.button[1],"default-bold-small")
	guiSetFont(podmianki.GUI.button[2],"default-bold-small")
	guiSetFont(podmianki.GUI.label[1],"default-bold-small")
	guiLabelSetHorizontalAlign(podmianki.GUI.label[1],"center",false)
	guiSetProperty(podmianki.GUI.button[1],"NormalTextColour","FFAAAAAA")
	guiSetProperty(podmianki.GUI.button[2],"NormalTextColour","FFAAAAAA")
	centerWindow(podmianki.GUI.window[1])
    podmianki.GUI.window[2] = guiCreateWindow(559,314,238,74,"Trwa pobieranie...",false)
	guiSetAlpha(podmianki.GUI.window[2],0.6)
	guiWindowSetSizable(podmianki.GUI.window[2],false)
	podmianki.GUI.label[2] = guiCreateLabel(0.03,0.34,0.93,0.53,"Proszę czekać...",true,podmianki.GUI.window[2])
	guiSetFont(podmianki.GUI.label[2],"default-bold-small")
	guiLabelSetHorizontalAlign(podmianki.GUI.label[2],"center",false)
	guiLabelSetVerticalAlign(podmianki.GUI.label[2],"center")
	function centerGUIDownloadProgress(center_window)
		local screenW,screenH = guiGetScreenSize()
		local windowW,windowH = guiGetSize(center_window,false)
		local x,y = (screenW-windowW)/2,(screenH-windowH)/2
		guiSetPosition(center_window,x,y-285,false)
	end
	centerGUIDownloadProgress(podmianki.GUI.window[2])
	guiSetVisible(podmianki.GUI.window[2],false)
	addEventHandler("onClientGUIClick",podmianki.GUI.button[1],
	function()
		guiSetVisible(podmianki.GUI.window[1],false)
		guiSetVisible(podmianki.GUI.window[2],true)
		guiBringToFront(podmianki.GUI.window[2])
		--hidePlayerCursor()
		for i,v in pairs(podmianki.pojazdy) do
			downloadFile("__mods/"..v[1]..".txd")
			downloadFile("__mods/"..v[1]..".dff")
		end
		for i,v in pairs(podmianki.bronie) do
			downloadFile("__mods/"..v[1]..".txd")
			downloadFile("__mods/"..v[1]..".dff")
		end
		for i,v in pairs(podmianki.skiny) do
			downloadFile("__mods/"..v[1]..".txd")
			downloadFile("__mods/"..v[1]..".dff")
		end
		pokazPanelLogowania()
	end,false)
	addEventHandler("onClientGUIClick",podmianki.GUI.button[2],
	function()
		guiSetVisible(podmianki.GUI.window[1],false)
		--hidePlayerCursor()
		pokazPanelLogowania()
	end,false)
	guiSetVisible(podmianki.GUI.window[1],false)
	--guiSetVisible(logowanie.GUI.image[1],true)
	--guiBringToFront(podmianki.GUI.window[1])
end)

local countDownloads = 0
local countFiles = (#podmianki.bronie + #podmianki.skiny + #podmianki.pojazdy) * 2
addEventHandler("onClientFileDownloadComplete",root,
function(fileName,success)
    if success then
		countDownloads = countDownloads+1
		guiSetText(podmianki.GUI.label[2],"Proszę czekać...\nPobrano "..countDownloads.." z "..countFiles)
		if countDownloads == countFiles then
			for i,v in pairs(podmianki.pojazdy) do
				local txd = engineLoadTXD("__mods/"..v[1]..".txd")
				engineImportTXD(txd,v[2])
				local dff = engineLoadDFF("__mods/"..v[1]..".dff",v[2])
				engineReplaceModel(dff,v[2])
			end
			for i,v in pairs(podmianki.bronie) do
				local txd = engineLoadTXD("__mods/"..v[1]..".txd")
				engineImportTXD(txd,v[2])
				local dff = engineLoadDFF("__mods/"..v[1]..".dff",v[2])
				engineReplaceModel(dff,v[2])
			end
			for i,v in pairs(podmianki.skiny) do
				local txd = engineLoadTXD("__mods/"..v[1]..".txd")
				engineImportTXD(txd,v[1])
				local dff = engineLoadDFF("__mods/"..v[1]..".dff",v[1])
				engineReplaceModel(dff,v[1])
			end
			setTimer(function()
				guiSetVisible(podmianki.GUI.window[2],false)
				--pokazPanelLogowania()
			end,1000,1)
		end
	end
end)

function pokazPanelLogowania()
	--[[guiSetAlpha(logowanie.GUI.window[1],0.0)
	setTimer(function()
		guiSetAlpha(logowanie.GUI.window[1],guiGetAlpha(logowanie.GUI.window[1])+0.02)
	end,50,32)]]
	setTimer(function()
		guiSetVisible(__introImage,true)
		guiSetVisible(logowanie.GUI.image[1],true)
		guiSetVisible(logowanie.GUI.window[1],true)
		fadeCamera(false,0.01)
		guiBringToFront(logowanie.GUI.window[1])
		showCursor(true)
		triggerServerEvent("Server:OnShowLoginPanel",resourceRoot)
	end,500,1)
end

addEvent("Client:ShowLoginPanel",true)
addEventHandler("Client:ShowLoginPanel",localPlayer,
function()
	hideAllGUI()
	showPlayerHudComponent("radar",false)
	setCameraMatrix(0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0)
	pokazPanelLogowania()
end)

addEventHandler("onClientResourceStart",resourceRoot,
function()
    hideAllGUI()
	showCursor(true)
	--[[removePedFromVehicle(localPlayer)]]
	--setElementPosition(localPlayer,99999999999999999999999999,999999999999999999999999,999999999999999999999999)
    join_sound = playSound("__sounds/intro.ogg")
    setCameraMatrix(-1360,1618,100,-1450,1200,100)
	showPlayerHudComponent("money",true)
	showPlayerHudComponent("radar",false)
	--setCloudsEnabled(false)
	setBlurLevel(0)
	showChat(true)
	__introImage = guiCreateStaticImage(0.0,0.0,1279.0,767.0,"__images/intro.png",true)
	guiSetEnabled(__introImage,false)
	guiSetAlpha(__introImage,0.999)
	guiSetVisible(__introImage,false)
	triggerServerEvent("fixElementInterior",resourceRoot,0)
	triggerServerEvent("fixElementDimension",resourceRoot,math.random(1,65535))
    setElementData(localPlayer,"pCommands",false)
	--setElementData(localPlayer,"pTeleporty",false)
	--setElementFrozen(localPlayer,true)
	local strefa_pirate = {}
	strefa_pirate.money = 50
	strefa_pirate.col = createColCuboid(1994.2951171875,1516.2919921875,12.3859375,12.0,55.0,10.0)
	strefa_pirate.marker = createMarker(2000.6728515625,1538.208984375,12.5859375,"cylinder",1.2,255,0,0,185)
	addEventHandler("onClientColShapeHit",strefa_pirate.col,
	function(theElement,matchingDimension)
        if theElement == localPlayer then
			if matchingDimension then
				if not pTimer then
					pTimer = setTimer(triggerServerEvent,1000,0,"Server:GivePlayerMoney",resourceRoot,strefa_pirate.money)
				else
					if isTimer(pTimer) then
						killTimer(pTimer)
						pTimer = nil
					end
				end
			end
	    end
	end)
	addEventHandler("onClientColShapeLeave",strefa_pirate.col,
	function(theElement,matchingDimension)
        if theElement == localPlayer then
			--if matchingDimension then
				if pTimer and isTimer(pTimer) then
					killTimer(pTimer)
					pTimer = nil
				end
			--end
	    end
	end)
	addEventHandler("onClientMarkerHit",strefa_pirate.marker,
	function(theElement,matchingDimension)
        if theElement == localPlayer then
			if matchingDimension then
				createInfoBoxClient(20,"(drawY/5.0)*2","● Przebywając na statku dostajesz "..strefa_pirate.money.."$ co sekundę.",10000)
			end
	    end
	end)
	local strefa_smierci = {}
	strefa_smierci.radar = createRadarArea(-1083.4365234375,467.173828125,1856.0,2856.0,255,0,0,100)
	setRadarAreaFlashing(strefa_smierci.radar,true)
    local maleSkins = {0,1,2,7,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,43,44,45,46,47,48,49,50,51,52,57,58,59,60,61,62,66,67,68,70,71,72,73,78,79,80,81,82,83,84,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,120,121,122,123,124,125,126,127,128,132,133,134,135,136,137,142,143,144,146,147,153,154,155,156,158,159,160,161,162,163,164,165,166,167,168,170,171,173,174,175,176,177,179,180,181,182,183,184,185,186,187,188,189,200,202,203,204,206,209,210,212,213,217,220,221,222,223,227,228,229,230,234,235,236,239,240,241,242,247,248,249,250,252,253,254,255,258,259,260,261,262,264,265,266,267,268,269,270,271,272,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,299,300,301,302,303,305,306,307,308,309,310,311,312}
    local femaleSkins = {9,10,11,12,13,31,38,39,40,41,53,54,55,56,63,64,69,75,76,77,85,87,88,89,90,91,92,93,129,130,131,138,139,140,141,145,148,150,151,152,157,169,172,178,190,191,192,193,194,195,196,197,198,199,201,205,207,211,214,215,216,218,219,224,225,226,231,232,233,237,238,243,244,245,246,251,256,257,263,298,304}
	skin_selector.next = guiCreateButton(0.51,0.94,0.09,0.05,">>",true)
	skin_selector.prev = guiCreateButton(0.41,0.94,0.09,0.05,"<<",true)
	skin_selector.ok = guiCreateButton(0.78,0.94,0.214,0.05,"OK ->",true)
	skin_selector.window = guiCreateWindow(0.78,0.15,0.22,0.705,"WYBIERZ SKIN",true)
	skin_selector.gridlist = guiCreateGridList(0.045,0.10,0.91,0.84,true,skin_selector.window)
	skin_selector.column_1 = guiGridListAddColumn(skin_selector.gridlist,"id",0.25)
	skin_selector.column_2 = guiGridListAddColumn(skin_selector.gridlist,"nazwa",0.55)
	for _,skin_id in pairs(maleSkins) do
	    local row = guiGridListAddRow(skin_selector.gridlist)
		guiGridListSetItemText(skin_selector.gridlist,row,skin_selector.column_1,tostring(skin_id),false,false)
		guiGridListSetItemText(skin_selector.gridlist,row,skin_selector.column_2,tostring(getSkinName(skin_id)),false,false)
	end
	for _,skin_id in pairs(femaleSkins) do
	    local row = guiGridListAddRow(skin_selector.gridlist)
		guiGridListSetItemText(skin_selector.gridlist,row,skin_selector.column_1,tostring(skin_id),false,false)
		guiGridListSetItemText(skin_selector.gridlist,row,skin_selector.column_2,tostring(getSkinName(skin_id)),false,false)
	end
	guiSetFont(skin_selector.gridlist,"default-bold-small")
	guiSetAlpha(skin_selector.window,0.6)
	guiSetAlpha(skin_selector.next,0.6)
	guiSetAlpha(skin_selector.prev,0.6)
	guiSetAlpha(skin_selector.ok,0.6)
	guiSetVisible(skin_selector.next,false)
	guiSetVisible(skin_selector.prev,false)
	guiSetVisible(skin_selector.ok,false)
	guiSetVisible(skin_selector.window,false)
	guiSetFont(skin_selector.next,"default-bold-small")
	guiSetFont(skin_selector.prev,"default-bold-small")
	guiSetFont(skin_selector.ok,"default-bold-small")
	addEventHandler("onClientGUIClick",skin_selector.next,skin_selector.change_skin,false)
	addEventHandler("onClientGUIClick",skin_selector.prev,skin_selector.change_skin,false)
	addEventHandler("onClientGUIClick",skin_selector.ok,skin_selector.change_skin,false)
	addEventHandler("onClientGUIClick",skin_selector.gridlist,
	function()
	    local selectedRow,selectedCol = guiGridListGetSelectedItem(skin_selector.gridlist)
		local selectedSkinID = guiGridListGetItemText(skin_selector.gridlist,selectedRow,skin_selector.column_1)
		if selectedSkinID then 
		    setElementModel(localPlayer,tonumber(selectedSkinID))
			addGlassParticle(0,255,255,150,0.04,5)
			addGlassParticle(0,255255,150,0.04,5)
			addGlassParticle(0,255,255,150,0.04,5)
			addGlassParticle(0,255,255,150,0.02,5)
			playSoundFrontEnd(32)
		end
	end,false)
	for i,v in pairs(spawn.blips) do
	    createBlip(v[2],v[3],v[4],v[1],2,255,0,0,200,0,299)
	end
	for i,v in ipairs(getElementsByType("vehicle")) do
		createBlipAttachedTo(v,0,1,150,150,150,150,0,99.0)
	end
	setTimer(function()
	    triggerServerEvent("Client:DownloadEnd",resourceRoot)
		guiSetVisible(logowanie.GUI.image[1],true)
		guiSetVisible(podmianki.GUI.window[1],true)
		guiBringToFront(podmianki.GUI.window[1])
	end,2500,1)
	setDevelopmentMode(true)
	outputDebugString(" ",3,0,0,255)
	guiGridListSetSortingEnabled(skin_selector.gridlist,false)
end)

addEventHandler("onClientResourceStop",resourceRoot,
function()
    unbindKey("tab","both",toggleScoreboard)
    unbindKey("f9","down","pomoc")
    unbindKey("f1","down","veh")
	unbindKey("f2","down","teleporty")
    for i,v in pairs(getTimers()) do
	    killTimer(v)
	end
    fadeCamera(false,0.01)
end)

__playerData = {}
setTimer(function()
	if isTargetClient() == true then
		for i,v in pairs(getElementsByType("player"),root,true) do
			if not isPedDead(v) then
				local lookatX,lookatY,lookatZ = getWorldFromScreenPosition(drawX/2,drawY/2,10)
				setPedLookAt(v,lookatX,lookatY,lookatZ)
			end
		end
	end
	if spawn.GUI.window[1] then
		if guiGetVisible(spawn.GUI.window[1]) == true then
			setCameraMatrix(spawn.points[spawn.row].camera[1],spawn.points[spawn.row].camera[2],spawn.points[spawn.row].camera[3],spawn.points[spawn.row].camera[4],spawn.points[spawn.row].camera[5],spawn.points[spawn.row].camera[6])
		end
	end
	__playerData["EXP"] = getElementData(localPlayer,".EXP")
	__playerData["LVL"] = getElementData(localPlayer,".LVL")
	scoreboardRefresh()
	setElementData(localPlayer,"Money",tostring(getPlayerMoney(localPlayer)).."$")
	if isMainMenuActive() then setElementData(localPlayer,"_activeGui",true) return end
	for _,guiElement in ipairs(getElementChildren(getResourceGUIElement())) do
	    if isElement(guiElement) then
            if guiGetEnabled(guiElement) ~= false and guiGetVisible(guiElement) ~= false then 
			    if guiElement ~= scoreboard.GUI.window[1] and guiElement ~= podmianki.GUI.window[2] then
		            setElementData(localPlayer,"_activeGui",true)
			        return
				end
			end
		end
	end
	setElementData(localPlayer,"_activeGui",false)
end,100,0)

local _guiSetVisible = guiSetVisible
function guiSetVisible(gui,bool)
	if bool == true then
		GUIFadeIn(gui)
		local x,y = guiGetSize(gui,false)
		GUISizeIn(gui,x,y)
	end
	if bool == false then
		_guiSetVisible(gui,false)
	end
end

local fadeGUITick = getTickCount()
local GUIElement = {}
local GUITimer

function GUIFadeIn(g)
	_guiSetVisible(g,true)
	if guiGetEnabled(g) == true then
		if not GUITimer then
			GUITimer = setTimer(removeGUIFadeRender,10000,1)
			addGUIFadeRender()
		else
			if isTimer(GUITimer) then
				resetTimer(GUITimer)
			end
		end
		table.insert(GUIElement,g)
		guiSetAlpha(g,0.0)
	end
end

function addGUIFadeRender()
	addEventHandler("onClientRender",root,GUIFadeRender)
end

function removeGUIFadeRender()
	removeEventHandler("onClientRender",root,GUIFadeRender)
	GUIElement = {}
	GUITimer = nil
end

function GUIFadeRender()
	if getTickCount() - fadeGUITick < 15 then return end
	fadeGUITick = getTickCount()
	for i,v in pairs(GUIElement) do
		local GUIAlpha = guiGetAlpha(v)
		if GUIAlpha > 0.75 or guiGetVisible(v) == false then
			table.remove(GUIElement,i)
			return
		end
		guiSetAlpha(v,guiGetAlpha(v)+0.04)
	end
end

local sizeGUITick = getTickCount()
local GUISElement = {}
local GUISTimer

function GUISizeIn(g,x,y)
	if guiGetEnabled(g) == true then
		if not GUISTimer then
			GUISTimer = setTimer(removeGUISizeRender,10000,1)
			addGUISizeRender()
		else
			if isTimer(GUISTimer) then
				resetTimer(GUISTimer)
			end
		end
		for i,v in pairs(GUISElement) do
			if v[3] == g then return end
		end
		--local x,y = guiGetSize(g,false)
		table.insert(GUISElement,{g,x,y})
		guiSetSize(g,x,0,false)
	end
end

function addGUISizeRender()
	addEventHandler("onClientRender",root,GUISizeRender)
end

function removeGUISizeRender()
	removeEventHandler("onClientRender",root,GUISizeRender)
	GUISElement = {}
	GUISTimer = nil
end

function GUISizeRender()
	if getTickCount() - sizeGUITick < 1 then return end
	for i,v in pairs(GUISElement) do
		local x,y = guiGetSize(v[1],false)
		if y+35 >= v[3] or guiGetVisible(v[1]) == false then
			guiSetSize(v[1],x,v[3],false)
			table.remove(GUISElement,i)
			return
		end
		guiSetSize(v[1],x,y+35,false)
	end
end

local sm = {}
sm.moov = 0
sm.object1,sm.object2 = nil,nil
 
local function removeCamHandler()
	if sm.moov == 1 then
		sm.moov = 0
	end
end
 
local function camRender()
	if sm.moov == 1 then
		local x1,y1,z1 = getElementPosition(sm.object1)
		local x2,y2,z2 = getElementPosition(sm.object2)
		setCameraMatrix(x1,y1,z1,x2,y2,z2)
	end
end
addEventHandler("onClientPreRender",root,camRender)
 
function smoothMoveCamera(x1,y1,z1,x1t,y1t,z1t,x2,y2,z2,x2t,y2t,z2t,time)
	if sm.moov == 1 then return false end
	sm.object1 = createObject(1337,x1,y1,z1)
	sm.object2 = createObject(1337,x1t,y1t,z1t)
	setElementAlpha(sm.object1,0)
	setElementAlpha(sm.object2,0)
	setObjectScale(sm.object1,0.01)
	setObjectScale(sm.object2,0.01)
	moveObject(sm.object1,time,x2,y2,z2,0,0,0,"InOutQuad")
	moveObject(sm.object2,time,x2t,y2t,z2t,0,0,0,"InOutQuad")
	sm.moov = 1
	setTimer(removeCamHandler,time,1)
	setTimer(destroyElement,time,1,sm.object1)
	setTimer(destroyElement,time,1,sm.object2)
	return true
end

addCommandHandler("timers",
function(cmd)
	local count_timers_2 = #getTimers()
	outputChatBox("● INFO: Ilość uruchomionych timerów: "..count_timers_2,0,255,255)
end)

local lastNapraw = getTickCount() - 120000
addCommandHandler("napraw",
function(cmd)
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - lastNapraw < 60000 then outputChatBox("● INFO: Komenda /napraw będzie dostępna za "..math.floor((59000-(getTickCount()-lastNapraw))/1000).."s.",255,0,0) return end
		lastNapraw = getTickCount()
		triggerServerEvent("Server:naprawCommand",resourceRoot)
	end
end)

bindKey("2", "down",
	function()
		if getTickCount() - lastNapraw < 60000 then outputChatBox("● INFO: Komenda /napraw będzie dostępna za "..math.floor((59000-(getTickCount()-lastNapraw))/1000).."s.",255,0,0) return end
		lastNapraw = getTickCount()
		triggerServerEvent("Server:naprawCommand",resourceRoot)
	end
)

local last100hp = getTickCount() - 120000
addCommandHandler("100hp",
function(cmd)
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - last100hp < 120000 then outputChatBox("● INFO: Komenda /100hp będzie dostępna za "..math.floor((119000-(getTickCount()-last100hp))/1000).."s.",255,0,0) return end
		last100hp = getTickCount()
		triggerServerEvent("Server:100hpCommand",resourceRoot)
	end
end)

local lastKamizelka = getTickCount() - 120000
addCommandHandler("kamizelka",
function(cmd)
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - lastKamizelka < 120000 then outputChatBox("● INFO: Komenda /kamizelka będzie dostępna za "..math.floor((119000-(getTickCount()-lastKamizelka))/1000).."s.",255,0,0) return end
		lastKamizelka = getTickCount()
		triggerServerEvent("Server:kamizelkaCommand",resourceRoot)
	end
end)

local lastFlip = getTickCount() - 120000
addCommandHandler("flip",
function(cmd)
    if isPlayerGotDamage() == true then return createInfoBoxClient(20,"(drawY/5.0)*2","● Nie możesz używać niektórych komend i teleportów podczas walki.",7000) end
    if getElementData(localPlayer,"pCommands") ~= false and isTargetClient() == true then
		if getTickCount() - lastFlip < 120000 then outputChatBox("● INFO: Komenda /flip będzie dostępna za "..math.floor((119000-(getTickCount()-lastFlip))/1000).."s.",255,0,0) return end
		lastFlip = getTickCount()
		triggerServerEvent("Server:flipCommand",resourceRoot)
	end
end)

addCommandHandler("cam",
function(_)
    local cx,cy,cz,lx,ly,lz = getCameraMatrix()
	outputChatBox(tostring(cx)..","..tostring(cy)..","..tostring(cz)..","..tostring(lx)..","..tostring(ly)..","..tostring(lz),255,255,255,true)
	outputChatBox(tostring(getElementDimension(localPlayer)))
end)

setMinuteDuration(1000)
local isTimeLocked = false
addCommandHandler("locktime",
function(_)
    if isTimeLocked == false then
		setMinuteDuration(6000000)
		isTimeLocked = true
		outputChatBox("● INFO: Czas zatrzymany.",0,255,255)
	return end
    if isTimeLocked == true then
		setMinuteDuration(1000)
		isTimeLocked = false
	return end
end)

addCommandHandler("mytime",
function(cmd,h,m)
    local h = h or math.random(0,23)
	local m = m or math.random(0,59)
    local succes = setTime(h,m)
	if succes then
	    local hour,minutes = getTime()
	else
	    outputChatBox("● INFO: /mytime h m",255,0,0)
	end
end)

addCommandHandler("pogoda",
function(cmd,id)
	local succes = setWeather(id)
	if succes then
	    
	else
	    outputChatBox("● INFO: /pogoda id",255,0,0)
	end
end)

addCommandHandler("kolorwody",
function(cmd,r,g,b,a)
    if not r then return resetWaterColor() end
	local succes = setWaterColor(r,g,b,a)
	if succes then
	    
	else
	    outputChatBox("● INFO: /kolorwody <red> <green> <blue> <alpha>",255,0,0)
	end
end)

local cj_clothes = {}
cj_clothes.GUI = {}

function toggleClothesGUI(bool)
	
end

function saveClientClothes()
	
end

function loadClientClothes()
	
end